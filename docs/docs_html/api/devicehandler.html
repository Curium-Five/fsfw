<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Device Handler Base API &#8212; Flight Software Framework 5.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=ec0e10ea"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Controller API" href="controller.html" />
    <link rel="prev" title="Action Module API" href="action.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="device-handler-base-api">
<h1>Device Handler Base API<a class="headerlink" href="#device-handler-base-api" title="Permalink to this heading">¶</a></h1>
<section id="devicehandlerbase">
<h2><code class="docutils literal notranslate"><span class="pre">DeviceHandlerBase</span></code><a class="headerlink" href="#devicehandlerbase" title="Permalink to this heading">¶</a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv417DeviceHandlerBase">
<span id="_CPPv317DeviceHandlerBase"></span><span id="_CPPv217DeviceHandlerBase"></span><span id="DeviceHandlerBase"></span><span class="target" id="class_device_handler_base"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DeviceHandlerBase</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415DeviceHandlerIF" title="DeviceHandlerIF"><span class="n"><span class="pre">DeviceHandlerIF</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="task.html#_CPPv418ExecutableObjectIF" title="ExecutableObjectIF"><span class="n"><span class="pre">ExecutableObjectIF</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="objectmanager.html#_CPPv412SystemObject" title="SystemObject"><span class="n"><span class="pre">SystemObject</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="modes.html#_CPPv410HasModesIF" title="HasModesIF"><span class="n"><span class="pre">HasModesIF</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="health.html#_CPPv411HasHealthIF" title="HasHealthIF"><span class="n"><span class="pre">HasHealthIF</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="action.html#_CPPv412HasActionsIF" title="HasActionsIF"><span class="n"><span class="pre">HasActionsIF</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">ReceivesParameterMessagesIF</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><span class="n"><span class="pre">HasLocalDataPoolIF</span></span><a class="headerlink" href="#_CPPv417DeviceHandlerBase" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is the abstract base class for device handlers. </p>
<p>Documentation: Dissertation Baetz p.138,139, p.141-149</p>
<p>It features handling of Modes , communication with physical devices, using the DeviceCommunicationIF, and communication with commanding objects. It inherits <a class="reference internal" href="objectmanager.html#class_system_object"><span class="std std-ref">SystemObject</span></a> and thus can be created by the <a class="reference internal" href="objectmanager.html#class_object_manager_i_f"><span class="std std-ref">ObjectManagerIF</span></a>.</p>
<p>This class uses the opcode of <a class="reference internal" href="task.html#class_executable_object_i_f"><span class="std std-ref">ExecutableObjectIF</span></a> to perform a step-wise execution. For each step a different action is selected and executed. Currently, the device handler base performs a 4-step execution related to 4 communication steps (based on RMAP). NOTE: RMAP is a standard which is used for Flying Laptop. RMAP communication is not mandatory for projects implementing the FSFW. However, the communication principles are similar to RMAP as there are two write and two send calls involved.</p>
<p>Device handler instances should extend this class and implement the abstract functions. Components and drivers can send so called cookies which are used for communication and contain information about the communcation (e.g. slave address for I2C or RMAP structs). The following abstract methods must be implemented by a device handler:<ol class="loweralpha simple">
<li><p><a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"><span class="std std-ref">doShutDown()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1a1fac1d13a598596a7f6d991de23b46be"><span class="std std-ref">buildTransitionDeviceCommand()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1a56b9ad3952fc3b1b225a93854b2519b7"><span class="std std-ref">buildNormalDeviceCommand()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1aed45e36a1691c4be856ca5a5e5ab633b"><span class="std std-ref">buildCommandFromCommand()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1ac0466f44bafd16da2900b87d0220e030"><span class="std std-ref">fillCommandAndReplyMap()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a></p></li>
<li><p><a class="reference internal" href="#class_device_handler_base_1a2129afe327f6dffc54dc8c53fb5ab793"><span class="std std-ref">interpretDeviceReply()</span></a></p></li>
</ol>
</p>
<p>Other important virtual methods with a default implementation are the <a class="reference internal" href="#class_device_handler_base_1abeb87030f7f4ceaa3c3b9d6506f02041"><span class="std std-ref">getTransitionDelayMs()</span></a> function and the <a class="reference internal" href="#class_device_handler_base_1a08db1e3913efba9352cef770a7cea497"><span class="std std-ref">getSwitches()</span></a> function. If a transition to MODE_ON is desired without commanding, override the intialize() function and call setMode(_MODE_START_UP) before calling <a class="reference internal" href="#class_device_handler_base_1a61e20a361d0adc3e4697db0ace7eca33"><span class="std std-ref">DeviceHandlerBase::initialize()</span></a>. </p>
<p>Subclassed by ChildHandlerBase, GyroHandlerL3GD20H, MgmLIS3MDLHandler, MgmRM3100Handler, TestDevice</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17DeviceHandlerBaseE11object_id_t11object_id_tP8CookieIFP20FailureIsolationBase6size_t">
<span id="_CPPv3N17DeviceHandlerBase17DeviceHandlerBaseE11object_id_t11object_id_tP8CookieIFP20FailureIsolationBase6size_t"></span><span id="_CPPv2N17DeviceHandlerBase17DeviceHandlerBaseE11object_id_t11object_id_tP8CookieIFP20FailureIsolationBase6size_t"></span><span id="DeviceHandlerBase::DeviceHandlerBase__object_id_t.object_id_t.CookieIFP.FailureIsolationBaseP.s"></span><span class="target" id="class_device_handler_base_1a067b7bf6fa87301735eb3a28c7a4bf77"></span><span class="sig-name descname"><span class="n"><span class="pre">DeviceHandlerBase</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">setObjectId</span></span>, <span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommunication</span></span>, <span class="n"><span class="pre">CookieIF</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">comCookie</span></span>, <span class="n"><span class="pre">FailureIsolationBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">fdirInstance</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">cmdQueueSize</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">20</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17DeviceHandlerBaseE11object_id_t11object_id_tP8CookieIFP20FailureIsolationBase6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The constructor passes the objectId to the <a class="reference internal" href="objectmanager.html#class_system_object"><span class="std std-ref">SystemObject()</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>setObjectId</strong> – the ObjectId to pass to the <a class="reference internal" href="objectmanager.html#class_system_object"><span class="std std-ref">SystemObject()</span></a> Constructor </p></li>
<li><p><strong>deviceCommuncation</strong> – Communcation Interface object which is used to implement communication functions </p></li>
<li><p><strong>comCookie</strong> – This object will be passed to the communication inter- face and can contain user-defined information about the communication. </p></li>
<li><p><strong>fdirInstance</strong> – </p></li>
<li><p><strong>cmdQueueSize</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase29setThermalStateRequestPoolIdsE7lp_id_t7lp_id_t8uint32_t">
<span id="_CPPv3N17DeviceHandlerBase29setThermalStateRequestPoolIdsE7lp_id_t7lp_id_t8uint32_t"></span><span id="_CPPv2N17DeviceHandlerBase29setThermalStateRequestPoolIdsE7lp_id_t7lp_id_t8uint32_t"></span><span id="DeviceHandlerBase::setThermalStateRequestPoolIds__lp_id_t.lp_id_t.uint32_t"></span><span class="target" id="class_device_handler_base_1a153a8f7e2babd65da19efffb4efa0f17"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setThermalStateRequestPoolIds</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">lp_id_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">thermalStatePoolId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415DeviceHandlerIF" title="DeviceHandlerIF"><span class="n"><span class="pre">DeviceHandlerIF</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">DEFAULT_THERMAL_STATE_POOL_ID</span></span>, <span class="n"><span class="pre">lp_id_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">thermalRequestPoolId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415DeviceHandlerIF" title="DeviceHandlerIF"><span class="n"><span class="pre">DeviceHandlerIF</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">DEFAULT_THERMAL_HEATING_REQUEST_POOL_ID</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">thermalSetId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415DeviceHandlerIF" title="DeviceHandlerIF"><span class="n"><span class="pre">DeviceHandlerIF</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">DEFAULT_THERMAL_SET_ID</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase29setThermalStateRequestPoolIdsE7lp_id_t7lp_id_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>If the device handler is controlled by the FSFW thermal building blocks, this function should be called to initialize all required components. The device handler will then take care of creating local pool entries for the device thermal state and device heating request. Custom local pool IDs can be assigned as well. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thermalStatePoolId</strong> – </p></li>
<li><p><strong>thermalRequestPoolId</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase21setStartUpImmediatelyEv">
<span id="_CPPv3N17DeviceHandlerBase21setStartUpImmediatelyEv"></span><span id="_CPPv2N17DeviceHandlerBase21setStartUpImmediatelyEv"></span><span id="DeviceHandlerBase::setStartUpImmediately"></span><span class="target" id="class_device_handler_base_1addb453cf177d4be3fa8c8bed8bb143a6"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setStartUpImmediately</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase21setStartUpImmediatelyEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper function to ease device handler development. This will instruct the transition to MODE_ON immediately (leading to <a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a> being called for the transition to the ON mode), so external mode commanding is not necessary anymore. </p>
<p>This has to be called before the task is started! (e.g. in the task factory). This is only a helper function for development. Regular mode commanding should be performed by commanding the AssemblyBase or Subsystem objects resposible for the device handler. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase16performOperationE7uint8_t">
<span id="_CPPv3N17DeviceHandlerBase16performOperationE7uint8_t"></span><span id="_CPPv2N17DeviceHandlerBase16performOperationE7uint8_t"></span><span id="DeviceHandlerBase::performOperation__uint8_t"></span><span class="target" id="class_device_handler_base_1ac1a6d3d2814b6511f6b591d3790c245b"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">performOperation</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">counter</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase16performOperationE7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This function is the device handler base core component and is called periodically. </p>
<p>General sequence, showing where abstract virtual functions are called: If the State is SEND_WRITE:<ol class="lowerroman simple">
<li><p>Set the cookie state to COOKIE_UNUSED and read the command queue</p></li>
<li><p>Handles Device State Modes by calling doStateMachine(). This function calls callChildStatemachine() which calls the abstract functions <a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a> and <a class="reference internal" href="#class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"><span class="std std-ref">doShutDown()</span></a></p></li>
<li><p>Check switch states by calling checkSwitchStates()</p></li>
<li><p>Decrements counter for timeout of replies by calling decrementDeviceReplyMap()</p></li>
<li><p>Performs FDIR check for failures</p></li>
<li><p>If the device mode is MODE_OFF, return returnvalue::OK. Otherwise, perform the Action property and performs depending on value specified by input value counter (incremented in PST). The child class tells base class what to do by setting this value.<ul class="simple">
<li><p>SEND_WRITE: Send data or commands to device by calling doSendWrite() which calls sendMessage function of <a class="reference internal" href="#class_device_handler_base_1a834c537d4a30d619a711f3a5f656593f"><span class="std std-ref">communicationInterface</span></a> and calls buildInternalCommand if the cookie state is COOKIE_UNUSED</p></li>
<li><p>GET_WRITE: Get ackknowledgement for sending by calling doGetWrite() which calls getSendSuccess of <a class="reference internal" href="#class_device_handler_base_1a834c537d4a30d619a711f3a5f656593f"><span class="std std-ref">communicationInterface</span></a>. Calls abstract functions <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a> and <a class="reference internal" href="#class_device_handler_base_1a2129afe327f6dffc54dc8c53fb5ab793"><span class="std std-ref">interpretDeviceReply()</span></a>.</p></li>
<li><p>SEND_READ: Request reading data from device by calling doSendRead() which calls requestReceiveMessage of #communcationInterface</p></li>
<li><p>GET_READ: Access requested reading data by calling doGetRead() which calls readReceivedMessage of <a class="reference internal" href="#class_device_handler_base_1a834c537d4a30d619a711f3a5f656593f"><span class="std std-ref">communicationInterface</span></a> </p></li>
</ul>
</p></li>
</ol>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>counter</strong> – Specifies which Action to perform </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>returnvalue::OK for successful execution </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase10initializeEv">
<span id="_CPPv3N17DeviceHandlerBase10initializeEv"></span><span id="_CPPv2N17DeviceHandlerBase10initializeEv"></span><span id="DeviceHandlerBase::initialize"></span><span class="target" id="class_device_handler_base_1a61e20a361d0adc3e4697db0ace7eca33"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initialize</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase10initializeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes the device handler. </p>
<p>Initialize Device Handler as system object and initializes all important helper classes. Calls <a class="reference internal" href="#class_device_handler_base_1ac0466f44bafd16da2900b87d0220e030"><span class="std std-ref">fillCommandAndReplyMap()</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase27initializeAfterTaskCreationEv">
<span id="_CPPv3N17DeviceHandlerBase27initializeAfterTaskCreationEv"></span><span id="_CPPv2N17DeviceHandlerBase27initializeAfterTaskCreationEv"></span><span id="DeviceHandlerBase::initializeAfterTaskCreation"></span><span class="target" id="class_device_handler_base_1afea3c65ca9ff92b65b64a32e4cbfa891"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initializeAfterTaskCreation</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase27initializeAfterTaskCreationEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Intialization steps performed after all tasks have been created. This function will be called by the executing task. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBaseD0Ev">
<span id="_CPPv3N17DeviceHandlerBaseD0Ev"></span><span id="_CPPv2N17DeviceHandlerBaseD0Ev"></span><span id="DeviceHandlerBase::~DeviceHandlerBase"></span><span class="target" id="class_device_handler_base_1af3115f77c4581bb9fd51cebe8c04a2ad"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~DeviceHandlerBase</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBaseD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase9setTaskIFEP14PeriodicTaskIF">
<span id="_CPPv3N17DeviceHandlerBase9setTaskIFEP14PeriodicTaskIF"></span><span id="_CPPv2N17DeviceHandlerBase9setTaskIFEP14PeriodicTaskIF"></span><span id="DeviceHandlerBase::setTaskIF__PeriodicTaskIFP"></span><span class="target" id="class_device_handler_base_1af7c755d2773fc1adae1ff56c861d8d97"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setTaskIF</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">PeriodicTaskIF</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">task_</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase9setTaskIFEP14PeriodicTaskIF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Implementation of <a class="reference internal" href="task.html#class_executable_object_i_f"><span class="std std-ref">ExecutableObjectIF</span></a> function Used to setup the reference of the task, that executes this component </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>task_</strong> – Pointer to the taskIF of this task </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK17DeviceHandlerBase15getCommandQueueEv">
<span id="_CPPv3NK17DeviceHandlerBase15getCommandQueueEv"></span><span id="_CPPv2NK17DeviceHandlerBase15getCommandQueueEv"></span><span id="DeviceHandlerBase::getCommandQueue__voidC"></span><span class="target" id="class_device_handler_base_1a2cbeaf403f2dbd0849b470a72272211e"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getCommandQueue</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK17DeviceHandlerBase15getCommandQueueEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This MessageQueue is used to command the device handler. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the id of the MessageQueue</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK17DeviceHandlerBase11getObjectIdEv">
<span id="_CPPv3NK17DeviceHandlerBase11getObjectIdEv"></span><span id="_CPPv2NK17DeviceHandlerBase11getObjectIdEv"></span><span id="DeviceHandlerBase::getObjectIdC"></span><span class="target" id="class_device_handler_base_1a01d10e9db08760657fda8083c1197500"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getObjectId</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK17DeviceHandlerBase11getObjectIdEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Explicit interface implementation of getObjectId </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14setParentQueueE16MessageQueueId_t">
<span id="_CPPv3N17DeviceHandlerBase14setParentQueueE16MessageQueueId_t"></span><span id="_CPPv2N17DeviceHandlerBase14setParentQueueE16MessageQueueId_t"></span><span id="DeviceHandlerBase::setParentQueue__MessageQueueId_t"></span><span class="target" id="class_device_handler_base_1a3b25f0e126e0145922542ec2cdd5364a"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setParentQueue</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parentQueueId</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14setParentQueueE16MessageQueueId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parentQueueId</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase13executeActionE10ActionId_t16MessageQueueId_tPK7uint8_t6size_t">
<span id="_CPPv3N17DeviceHandlerBase13executeActionE10ActionId_t16MessageQueueId_tPK7uint8_t6size_t"></span><span id="_CPPv2N17DeviceHandlerBase13executeActionE10ActionId_t16MessageQueueId_tPK7uint8_t6size_t"></span><span id="DeviceHandlerBase::executeAction__ActionId_t.MessageQueueId_t.uint8_tCP.s"></span><span class="target" id="class_device_handler_base_1a174f7c2ea04657f6eaddc39a980ca48c"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">executeAction</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">ActionId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">actionId</span></span>, <span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">commandedBy</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">size</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase13executeActionE10ActionId_t16MessageQueueId_tPK7uint8_t6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Implementation required for HasActionIF. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase9getHealthEv">
<span id="_CPPv3N17DeviceHandlerBase9getHealthEv"></span><span id="_CPPv2N17DeviceHandlerBase9getHealthEv"></span><span id="DeviceHandlerBase::getHealth"></span><span class="target" id="class_device_handler_base_1a6472eb3ece03ea95ecc694a4ee35a58c"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">HealthState</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getHealth</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase9getHealthEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get Health State. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Health State of the object </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase9setHealthE11HealthState">
<span id="_CPPv3N17DeviceHandlerBase9setHealthE11HealthState"></span><span id="_CPPv2N17DeviceHandlerBase9setHealthE11HealthState"></span><span id="DeviceHandlerBase::setHealth__HealthState"></span><span class="target" id="class_device_handler_base_1a713ea109ced06d99e162ebe5e8bb8bd9"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setHealth</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">HealthState</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">health</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase9setHealthE11HealthState" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the Health State The parent will be informed, if the Health changes. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>health</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12getParameterE7uint8_t7uint8_tP16ParameterWrapperPK16ParameterWrapper8uint16_t">
<span id="_CPPv3N17DeviceHandlerBase12getParameterE7uint8_t7uint8_tP16ParameterWrapperPK16ParameterWrapper8uint16_t"></span><span id="_CPPv2N17DeviceHandlerBase12getParameterE7uint8_t7uint8_tP16ParameterWrapperPK16ParameterWrapper8uint16_t"></span><span id="DeviceHandlerBase::getParameter__uint8_t.uint8_t.ParameterWrapperP.ParameterWrapperCP.uint16_t"></span><span class="target" id="class_device_handler_base_1a48ba4bfe2772bbcb91e5b146b49efc5c"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getParameter</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">domainId</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">uniqueId</span></span>, <span class="n"><span class="pre">ParameterWrapper</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">parameterWrapper</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">ParameterWrapper</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">newValues</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">startAtIndex</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12getParameterE7uint8_t7uint8_tP16ParameterWrapperPK16ParameterWrapper8uint16_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is the generic function overriden by child classes to set parameters. To set a parameter, the parameter wrapper is used with a variety of set functions. The provided values can be checked with newValues. Always set parameter before checking newValues!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>domainId</strong> – </p></li>
<li><p><strong>parameterId</strong> – </p></li>
<li><p><strong>parameterWrapper</strong> – </p></li>
<li><p><strong>newValues</strong> – </p></li>
<li><p><strong>startAtIndex</strong> – Linear index, runs left to right, top to bottom for matrix indexes. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-types">Protected Types</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15WiretappingModeE">
<span id="_CPPv3N17DeviceHandlerBase15WiretappingModeE"></span><span id="_CPPv2N17DeviceHandlerBase15WiretappingModeE"></span><span class="target" id="class_device_handler_base_1a871809b2e1ac2ae10b8af010eeaa384e"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">WiretappingMode</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15WiretappingModeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Wiretapping flag:</p>
<p>indicates either that all raw messages to and from the device should be sent to <a class="reference internal" href="#class_device_handler_base_1a8421c9659d28e4b9c87f49068e43a61d"><span class="std std-ref">defaultRawReceiver</span></a> or that all device TM should be downlinked to <a class="reference internal" href="#class_device_handler_base_1a8421c9659d28e4b9c87f49068e43a61d"><span class="std std-ref">defaultRawReceiver</span></a>. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15WiretappingMode3OFFE">
<span id="_CPPv3N17DeviceHandlerBase15WiretappingMode3OFFE"></span><span id="_CPPv2N17DeviceHandlerBase15WiretappingMode3OFFE"></span><span class="target" id="class_device_handler_base_1a871809b2e1ac2ae10b8af010eeaa384ea86a3439d1ca1097525caba27910a4535"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">OFF</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15WiretappingMode3OFFE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15WiretappingMode3RAWE">
<span id="_CPPv3N17DeviceHandlerBase15WiretappingMode3RAWE"></span><span id="_CPPv2N17DeviceHandlerBase15WiretappingMode3RAWE"></span><span class="target" id="class_device_handler_base_1a871809b2e1ac2ae10b8af010eeaa384eabe653512694e1522718b72666fbf048c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">RAW</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15WiretappingMode3RAWE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15WiretappingMode2TME">
<span id="_CPPv3N17DeviceHandlerBase15WiretappingMode2TME"></span><span id="_CPPv2N17DeviceHandlerBase15WiretappingMode2TME"></span><span class="target" id="class_device_handler_base_1a871809b2e1ac2ae10b8af010eeaa384ea4a33d414d23ad649d1f28d02c54eb81f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">TM</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15WiretappingMode2TME" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-functions">Protected Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase9doStartUpEv">
<span id="_CPPv3N17DeviceHandlerBase9doStartUpEv"></span><span id="_CPPv2N17DeviceHandlerBase9doStartUpEv"></span><span id="DeviceHandlerBase::doStartUp"></span><span class="target" id="class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">doStartUp</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase9doStartUpEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is used to let the child class handle the transition from mode <code class="docutils literal notranslate"><span class="pre">_MODE_START_UP</span></code> to <code class="docutils literal notranslate"><span class="pre">MODE_ON</span></code>. </p>
<p>It is only called when the device handler is in mode <code class="docutils literal notranslate"><span class="pre">_MODE_START_UP</span></code>. That means, the device switch(es) are already set to on. Device handler commands are read and can be handled by the child class. If the child class handles a command, it should also send an reply accordingly. If an Command is not handled (ie #DeviceHandlerCommand is not <code class="docutils literal notranslate"><span class="pre">CMD_NONE</span></code>, the base class handles rejecting the command and sends a reply. The replies for mode transitions are handled by the base class.</p>
<p><ul class="simple">
<li><p>If the device is started and ready for operation, the mode should be set to MODE_ON. It is possible to set the mode to _MODE_TO_ON to use the to on transition if available.</p></li>
<li><p>If the power-up fails, the mode should be set to _MODE_POWER_DOWN which will lead to the device being powered off.</p></li>
<li><p>If the device does not change the mode, the mode will be changed to _MODE_POWER_DOWN, after the timeout (from getTransitionDelay()) has passed.</p></li>
</ul>
</p>
<p>#transitionFailure can be set to a failure code indicating the reason for a failed transition </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase10doShutDownEv">
<span id="_CPPv3N17DeviceHandlerBase10doShutDownEv"></span><span id="_CPPv2N17DeviceHandlerBase10doShutDownEv"></span><span id="DeviceHandlerBase::doShutDown"></span><span class="target" id="class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">doShutDown</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase10doShutDownEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is used to let the child class handle the transition from mode <code class="docutils literal notranslate"><span class="pre">_MODE_SHUT_DOWN</span></code> to <code class="docutils literal notranslate"><span class="pre">_MODE_POWER_DOWN</span></code>. </p>
<p>It is only called when the device handler is in mode <code class="docutils literal notranslate"><span class="pre">_MODE_SHUT_DOWN</span></code>. Device handler commands are read and can be handled by the child class. If the child class handles a command, it should also send an reply accordingly. If an Command is not handled (ie #DeviceHandlerCommand is not <code class="docutils literal notranslate"><span class="pre">CMD_NONE</span></code>, the base class handles rejecting the command and sends a reply. The replies for mode transitions are handled by the base class.</p>
<p><ul class="simple">
<li><p>If the device ready to be switched off, the mode should be set to _MODE_POWER_DOWN.</p></li>
<li><p>If the device should not be switched off, the mode can be changed to _MODE_TO_ON (or MODE_ON if no transition is needed).</p></li>
<li><p>If the device does not change the mode, the mode will be changed to _MODE_POWER_DOWN, when the timeout (from getTransitionDelay()) has passed.</p></li>
</ul>
</p>
<p>#transitionFailure can be set to a failure code indicating the reason for a failed transition </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase24buildNormalDeviceCommandEP17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase24buildNormalDeviceCommandEP17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase24buildNormalDeviceCommandEP17DeviceCommandId_t"></span><span id="DeviceHandlerBase::buildNormalDeviceCommand__DeviceCommandId_tP"></span><span class="target" id="class_device_handler_base_1a56b9ad3952fc3b1b225a93854b2519b7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buildNormalDeviceCommand</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">id</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase24buildNormalDeviceCommandEP17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Build the device command to send for normal mode.</p>
<p>This is only called in <code class="docutils literal notranslate"><span class="pre">MODE_NORMAL</span></code>. If multiple submodes for <code class="docutils literal notranslate"><span class="pre">MODE_NORMAL</span></code> are supported, different commands can built, depending on the submode.</p>
<p><a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a> and <a class="reference internal" href="#class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"><span class="std std-ref">rawPacketLen</span></a> must be set by this method to the packet to be sent. If variable command frequence is required, a counter can be used and the frequency in the reply map has to be set manually by calling updateReplyMap().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>id</strong> – <strong>[out]</strong> the device command id that has been built </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> to send command after setting <a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a> and <a class="reference internal" href="#class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"><span class="std std-ref">rawPacketLen</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NOTHING_TO_SEND</span></code> when no command is to be sent.</p></li>
<li><p>Anything else triggers an even with the returnvalue as a parameter. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase28buildTransitionDeviceCommandEP17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase28buildTransitionDeviceCommandEP17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase28buildTransitionDeviceCommandEP17DeviceCommandId_t"></span><span id="DeviceHandlerBase::buildTransitionDeviceCommand__DeviceCommandId_tP"></span><span class="target" id="class_device_handler_base_1a1fac1d13a598596a7f6d991de23b46be"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buildTransitionDeviceCommand</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">id</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase28buildTransitionDeviceCommandEP17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Build the device command to send for a transitional mode.</p>
<p>This is only called in <code class="docutils literal notranslate"><span class="pre">_MODE_TO_NORMAL</span></code>, <code class="docutils literal notranslate"><span class="pre">_MODE_TO_ON</span></code>, <code class="docutils literal notranslate"><span class="pre">_MODE_TO_RAW</span></code>, <code class="docutils literal notranslate"><span class="pre">_MODE_START_UP</span></code> and <code class="docutils literal notranslate"><span class="pre">_MODE_SHUT_DOWN</span></code>. So it is used by <a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a> and <a class="reference internal" href="#class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"><span class="std std-ref">doShutDown()</span></a> as well as <a class="reference internal" href="#class_device_handler_base_1a0d0989eaa2cc0cab323cd19a24381dc9"><span class="std std-ref">doTransition()</span></a>, by setting those modes in the respective functions.</p>
<p>A good idea is to implement a flag indicating a command has to be built and a variable containing the command number to be built and filling them in <a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a>, <a class="reference internal" href="#class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"><span class="std std-ref">doShutDown()</span></a> and <a class="reference internal" href="#class_device_handler_base_1a0d0989eaa2cc0cab323cd19a24381dc9"><span class="std std-ref">doTransition()</span></a> so no modes have to be checked here.</p>
<p><a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a> and <a class="reference internal" href="#class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"><span class="std std-ref">rawPacketLen</span></a> must be set by this method to the packet to be sent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>id</strong> – <strong>[out]</strong> the device command id built </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when a command is to be sent</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NOTHING_TO_SEND</span></code> when no command is to be sent</p></li>
<li><p>Anything else triggers an even with the returnvalue as a parameter </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase23buildCommandFromCommandE17DeviceCommandId_tPK7uint8_t6size_t">
<span id="_CPPv3N17DeviceHandlerBase23buildCommandFromCommandE17DeviceCommandId_tPK7uint8_t6size_t"></span><span id="_CPPv2N17DeviceHandlerBase23buildCommandFromCommandE17DeviceCommandId_tPK7uint8_t6size_t"></span><span id="DeviceHandlerBase::buildCommandFromCommand__DeviceCommandId_t.uint8_tCP.s"></span><span class="target" id="class_device_handler_base_1aed45e36a1691c4be856ca5a5e5ab633b"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buildCommandFromCommand</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommand</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">commandData</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">commandDataLen</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase23buildCommandFromCommandE17DeviceCommandId_tPK7uint8_t6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Build a device command packet from data supplied by a direct command (PUS Service 8) </p>
<p>This will be called if an functional command via PUS Service 8 is received and is the primary interface for functional command instead of <a class="reference internal" href="#class_device_handler_base_1a174f7c2ea04657f6eaddc39a980ca48c"><span class="std std-ref">executeAction</span></a> for users. The supplied ActionId_t action ID will be converted to a DeviceCommandId_t command ID after an internal check whether the action ID is a key in the device command map.</p>
<p><a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a> and <a class="reference internal" href="#class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"><span class="std std-ref">rawPacketLen</span></a> should be set by this method to the packet to be sent. The existence of the command in the command map and the command size check against 0 are done by the base class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deviceCommand</strong> – The command to build, already checked against deviceCommandMap </p></li>
<li><p><strong>commandData</strong> – Pointer to the data from the direct command </p></li>
<li><p><strong>commandDataLen</strong> – Length of commandData </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> to send command after <a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a> and <a class="reference internal" href="#class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"><span class="std std-ref">rawPacketLen</span></a> have been set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">HasActionsIF::EXECUTION_COMPLETE</span></code> to generate a finish reply immediately. This can be used if no reply is expected</p></li>
<li><p>Anything else triggers an event with the return code as a parameter as well as a step reply failed with the return code </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12scanForReplyEPK7uint8_t6size_tP17DeviceCommandId_tP6size_t">
<span id="_CPPv3N17DeviceHandlerBase12scanForReplyEPK7uint8_t6size_tP17DeviceCommandId_tP6size_t"></span><span id="_CPPv2N17DeviceHandlerBase12scanForReplyEPK7uint8_t6size_tP17DeviceCommandId_tP6size_t"></span><span id="DeviceHandlerBase::scanForReply__uint8_tCP.s.DeviceCommandId_tP.sP"></span><span class="target" id="class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scanForReply</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">start</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">foundId</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">foundLen</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12scanForReplyEPK7uint8_t6size_tP17DeviceCommandId_tP6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Scans a buffer for a valid reply. </p>
<p>This is used by the base class to check the data received for valid packets. It only checks if a valid packet starts at <code class="docutils literal notranslate"><span class="pre">start</span></code>. It also only checks the structural validy of the packet, e.g. checksums lengths and protocol data. No information check is done, e.g. range checks etc.</p>
<p>Errors should be reported directly, the base class does NOT report any errors based on the return value of this function.</p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>also fillCommandAndCookieMap() ) </p>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – start of remaining buffer to be scanned </p></li>
<li><p><strong>len</strong> – length of remaining buffer to be scanned </p></li>
<li><p><strong>foundId</strong> – <strong>[out]</strong> the id of the data found in the buffer. </p></li>
<li><p><strong>foundLen</strong> – <strong>[out]</strong> length of the data found. Is to be set in function, buffer is scanned at previous position + foundLen. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> a valid packet was found at <code class="docutils literal notranslate"><span class="pre">start</span></code>, <code class="docutils literal notranslate"><span class="pre">foundLen</span></code> is valid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> no reply could be found starting at <code class="docutils literal notranslate"><span class="pre">start</span></code>, implies <code class="docutils literal notranslate"><span class="pre">foundLen</span></code> is not valid, base class will call <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a> again with ++start</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DeviceHandlerIF::INVALID_DATA</span></code> a packet was found but it is invalid, e.g. checksum error, implies <code class="docutils literal notranslate"><span class="pre">foundLen</span></code> is valid, can be used to skip some bytes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DeviceHandlerIF::LENGTH_MISSMATCH</span></code> <code class="docutils literal notranslate"><span class="pre">len</span></code> is invalid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DeviceHandlerIF::IGNORE_REPLY_DATA</span></code> Ignore this specific part of the packet</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DeviceHandlerIF::IGNORE_FULL_PACKET</span></code> Ignore the packet</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">APERIODIC_REPLY</span></code> if a valid reply is received that has not been requested by a command, but should be handled anyway (</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase20interpretDeviceReplyE17DeviceCommandId_tPK7uint8_t">
<span id="_CPPv3N17DeviceHandlerBase20interpretDeviceReplyE17DeviceCommandId_tPK7uint8_t"></span><span id="_CPPv2N17DeviceHandlerBase20interpretDeviceReplyE17DeviceCommandId_tPK7uint8_t"></span><span id="DeviceHandlerBase::interpretDeviceReply__DeviceCommandId_t.uint8_tCP"></span><span class="target" id="class_device_handler_base_1a2129afe327f6dffc54dc8c53fb5ab793"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">interpretDeviceReply</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">packet</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase20interpretDeviceReplyE17DeviceCommandId_tPK7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Interpret a reply from the device. </p>
<p>This is called after <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a> found a valid packet, it can be assumed that the length and structure is valid. This routine extracts the data from the packet into a DataSet and then calls handleDeviceTM(), which either sends a TM packet or stores the data in the DataPool depending on whether it was an external command. No packet length is given, as it should be defined implicitly by the id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> – the id found by <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a></p></li>
<li><p><strong>packet</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when the reply was interpreted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IGNORE_REPLY_DATA</span></code> Ignore the reply and don’t reset reply cycle counter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> when the reply could not be interpreted, e.g. logical errors or range violations occurred </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK17DeviceHandlerBase17getPendingCommandEv">
<span id="_CPPv3NK17DeviceHandlerBase17getPendingCommandEv"></span><span id="_CPPv2NK17DeviceHandlerBase17getPendingCommandEv"></span><span id="DeviceHandlerBase::getPendingCommandC"></span><span class="target" id="class_device_handler_base_1a18b65c2fd0e078be66d56d8ece65705a"></span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getPendingCommand</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK17DeviceHandlerBase17getPendingCommandEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper function to get pending command. This is useful for devices like SPI sensors to identify the last sent command. This only returns the command sent in the last SEND_WRITE cycle. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase22fillCommandAndReplyMapEv">
<span id="_CPPv3N17DeviceHandlerBase22fillCommandAndReplyMapEv"></span><span id="_CPPv2N17DeviceHandlerBase22fillCommandAndReplyMapEv"></span><span id="DeviceHandlerBase::fillCommandAndReplyMap"></span><span class="target" id="class_device_handler_base_1ac0466f44bafd16da2900b87d0220e030"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fillCommandAndReplyMap</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase22fillCommandAndReplyMapEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Fill the DeviceCommandMap and DeviceReplyMap called by the <a class="reference internal" href="#class_device_handler_base_1a61e20a361d0adc3e4697db0ace7eca33"><span class="std std-ref">initialize</span></a> of the base class. </p>
<p>This is used to let the base class know which replies are expected. There are different scenarios regarding this:</p>
<p><ul class="simple">
<li><p>“Normal” commands. These are commands, that trigger a direct reply from the device. In this case, the id of the command should be added to the command map with a commandData_t where maxDelayCycles is set to the maximum expected number of PST cycles the reply will take. Then, scanForReply returns the id of the command and the base class can handle time-out and missing replies.</p></li>
<li><p>Periodic, unrequested replies. These are replies that, once enabled, are sent by the device on its own in a defined interval. In this case, the id of the reply or a placeholder id should be added to the deviceCommandMap with a commandData_t where maxDelayCycles is set to the maximum expected number of PST cycles between two replies (also a tolerance should be added, as an FDIR message will be generated if it is missed). From then on, the base class handles the reception. Then, scanForReply returns the id of the reply or the placeholder id and the base class will take care of checking that all replies are received and the interval is correct.</p></li>
<li><p>Aperiodic, unrequested replies. These are replies that are sent by the device without any preceding command and not in a defined interval. These are not entered in the deviceCommandMap but handled by returning <code class="docutils literal notranslate"><span class="pre">APERIODIC_REPLY</span></code> in <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a>. </p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase26insertInCommandAndReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbb17DeviceCommandId_tP9Countdown">
<span id="_CPPv3N17DeviceHandlerBase26insertInCommandAndReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbb17DeviceCommandId_tP9Countdown"></span><span id="_CPPv2N17DeviceHandlerBase26insertInCommandAndReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbb17DeviceCommandId_tP9Countdown"></span><span id="DeviceHandlerBase::insertInCommandAndReplyMap__DeviceCommandId_t.uint16_t.LocalPoolDataSetBaseP.s.b.b.DeviceCommandId_t.CountdownP"></span><span class="target" id="class_device_handler_base_1ab1bc896d4f2de73f8af2392c40eb4db6"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">insertInCommandAndReplyMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommand</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">maxDelayCycles</span></span>, <span class="n"><span class="pre">LocalPoolDataSetBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">replyDataSet</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">replyLen</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">periodic</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hasDifferentReplyId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">replyId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="n"><span class="pre">Countdown</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">countdown</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase26insertInCommandAndReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbb17DeviceCommandId_tP9Countdown" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a helper method to facilitate inserting entries in the command map. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deviceCommand</strong> – Identifier of the command to add. </p></li>
<li><p><strong>maxDelayCycles</strong> – The maximum number of delay cycles the command waits until it times out. </p></li>
<li><p><strong>replyLen</strong> – Will be supplied to the requestReceiveMessage call of the communication interface. </p></li>
<li><p><strong>periodic</strong> – Indicates if the command is periodic (i.e. it is sent by the device repeatedly without request) or not. Default is aperiodic (0). Please note that periodic replies are disabled by default. You can enable them with <a class="reference internal" href="#class_device_handler_base_1aee86c01cf0593af6a823510be2c5ed9c"><span class="std std-ref">updatePeriodicReply</span></a></p></li>
<li><p><strong>countdown</strong> – Instead of using maxDelayCycles to timeout a device reply it is also possible to provide a pointer to a Countdown object which will signal the timeout when expired </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- <code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when the command was successfully inserted,<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> else. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase16insertInReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbP9Countdown">
<span id="_CPPv3N17DeviceHandlerBase16insertInReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbP9Countdown"></span><span id="_CPPv2N17DeviceHandlerBase16insertInReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbP9Countdown"></span><span id="DeviceHandlerBase::insertInReplyMap__DeviceCommandId_t.uint16_t.LocalPoolDataSetBaseP.s.b.CountdownP"></span><span class="target" id="class_device_handler_base_1a0e2db1a3bf21228e54b75d6f5c2d3e1b"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">insertInReplyMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommand</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">maxDelayCycles</span></span>, <span class="n"><span class="pre">LocalPoolDataSetBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dataSet</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">replyLen</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">periodic</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span>, <span class="n"><span class="pre">Countdown</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">countdown</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase16insertInReplyMapE17DeviceCommandId_t8uint16_tP20LocalPoolDataSetBase6size_tbP9Countdown" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a helper method to insert replies in the reply map. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deviceCommand</strong> – Identifier of the reply to add. </p></li>
<li><p><strong>maxDelayCycles</strong> – The maximum number of delay cycles the reply waits until it times out. </p></li>
<li><p><strong>periodic</strong> – Indicates if the command is periodic (i.e. it is sent by the device repeatedly without request) or not. Default is aperiodic (0). Please note that periodic replies are disabled by default. You can enable them with <a class="reference internal" href="#class_device_handler_base_1aee86c01cf0593af6a823510be2c5ed9c"><span class="std std-ref">updatePeriodicReply</span></a></p></li>
<li><p><strong>countdown</strong> – Instead of using maxDelayCycles to timeout a device reply it is also possible to provide a pointer to a Countdown object which will signal the timeout when expired </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- <code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when the command was successfully inserted,<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> else. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18insertInCommandMapE17DeviceCommandId_tb17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase18insertInCommandMapE17DeviceCommandId_tb17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase18insertInCommandMapE17DeviceCommandId_tb17DeviceCommandId_t"></span><span id="DeviceHandlerBase::insertInCommandMap__DeviceCommandId_t.b.DeviceCommandId_t"></span><span class="target" id="class_device_handler_base_1a51ff1678a1f4c094d817dd34f7aaa479"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">insertInCommandMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommand</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">useAlternativeReply</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">alternativeReplyId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18insertInCommandMapE17DeviceCommandId_tb17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A simple command to add a command to the commandList. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>deviceCommand</strong> – The command to add </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- <code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when the command was successfully inserted,<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> else. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase19updatePeriodicReplyEb17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase19updatePeriodicReplyEb17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase19updatePeriodicReplyEb17DeviceCommandId_t"></span><span id="DeviceHandlerBase::updatePeriodicReply__b.DeviceCommandId_t"></span><span class="target" id="class_device_handler_base_1aee86c01cf0593af6a823510be2c5ed9c"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">updatePeriodicReply</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceReply</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase19updatePeriodicReplyEb17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enables a periodic reply for a given command. It sets to delay cycles to the specified maximum delay cycles for a given reply ID if enabled or to 0 if disabled. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enable</strong> – Specify whether to enable or disable a given periodic reply </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18getNextReplyLengthE17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase18getNextReplyLengthE17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase18getNextReplyLengthE17DeviceCommandId_t"></span><span id="DeviceHandlerBase::getNextReplyLength__DeviceCommandId_t"></span><span class="target" id="class_device_handler_base_1a33363b0b0cb8ce2264519d33b74ff196"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getNextReplyLength</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommand</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18getNextReplyLengthE17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This function returns the reply length of the next reply to read. </p>
<p>
The default implementation assumes only one reply is triggered by the command. In case the command triggers multiple replies (e.g. one acknowledgment, one data, and one execution status reply), this function can be overwritten to get the reply length of the next reply to read. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>deviceCommand</strong> – The command which triggered the device reply.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase19updateReplyMapEntryE17DeviceCommandId_t8uint16_t8uint16_tb">
<span id="_CPPv3N17DeviceHandlerBase19updateReplyMapEntryE17DeviceCommandId_t8uint16_t8uint16_tb"></span><span id="_CPPv2N17DeviceHandlerBase19updateReplyMapEntryE17DeviceCommandId_t8uint16_t8uint16_tb"></span><span id="DeviceHandlerBase::updateReplyMapEntry__DeviceCommandId_t.uint16_t.uint16_t.b"></span><span class="target" id="class_device_handler_base_1a9a0d967c9bd087b8638e09778438e308"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">updateReplyMapEntry</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceReply</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">delayCycles</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">maxDelayCycles</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">periodic</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase19updateReplyMapEntryE17DeviceCommandId_t8uint16_t8uint16_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a helper method to facilitate updating entries in the reply map. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>deviceCommand</strong> – Identifier of the reply to update. </p></li>
<li><p><strong>delayCycles</strong> – The current number of delay cycles to wait. As stated in <a class="reference internal" href="#class_device_handler_base_1ac0466f44bafd16da2900b87d0220e030"><span class="std std-ref">fillCommandAndReplyMap</span></a>, to disable periodic commands, this is set to zero. </p></li>
<li><p><strong>maxDelayCycles</strong> – The maximum number of delay cycles the reply waits until it times out. By passing 0 the entry remains untouched. </p></li>
<li><p><strong>periodic</strong> – Indicates if the command is periodic (i.e. it is sent by the device repeatedly without request) or not. Default is aperiodic (0). Warning: The setting always overrides the value that was entered in the map. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- <code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when the command was successfully inserted,<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> else. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15setReplyDatasetE17DeviceCommandId_tP20LocalPoolDataSetBase">
<span id="_CPPv3N17DeviceHandlerBase15setReplyDatasetE17DeviceCommandId_tP20LocalPoolDataSetBase"></span><span id="_CPPv2N17DeviceHandlerBase15setReplyDatasetE17DeviceCommandId_tP20LocalPoolDataSetBase"></span><span id="DeviceHandlerBase::setReplyDataset__DeviceCommandId_t.LocalPoolDataSetBaseP"></span><span class="target" id="class_device_handler_base_1a0cb114f8d4eae668cc193acdc01973fb"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setReplyDataset</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">replyId</span></span>, <span class="n"><span class="pre">LocalPoolDataSetBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dataset</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15setReplyDatasetE17DeviceCommandId_tP20LocalPoolDataSetBase" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Can be used to set the dataset corresponding to a reply ID manually. </p>
<p>Used by the local data pool manager. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase20getTransitionDelayMsE6Mode_t6Mode_t">
<span id="_CPPv3N17DeviceHandlerBase20getTransitionDelayMsE6Mode_t6Mode_t"></span><span id="_CPPv2N17DeviceHandlerBase20getTransitionDelayMsE6Mode_t6Mode_t"></span><span id="DeviceHandlerBase::getTransitionDelayMs__Mode_t.Mode_t"></span><span class="target" id="class_device_handler_base_1abeb87030f7f4ceaa3c3b9d6506f02041"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getTransitionDelayMs</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">modeFrom</span></span>, <span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">modeTo</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase20getTransitionDelayMsE6Mode_t6Mode_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the time needed to transit from modeFrom to modeTo.</p>
<p>Used for the following transitions: modeFrom -&gt; modeTo: MODE_ON -&gt; [MODE_ON, MODE_NORMAL, MODE_RAW, _MODE_POWER_DOWN] MODE_NORMAL -&gt; [MODE_ON, MODE_NORMAL, MODE_RAW, _MODE_POWER_DOWN] MODE_RAW -&gt; [MODE_ON, MODE_NORMAL, MODE_RAW, _MODE_POWER_DOWN] _MODE_START_UP -&gt; MODE_ON (do not include time to set the switches, the base class got you covered)</p>
<p>The default implementation returns 0 ! </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modeFrom</strong> – </p></li>
<li><p><strong>modeTo</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>time in ms </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase23initializeLocalDataPoolERN9localpool8DataPoolER20LocalDataPoolManager">
<span id="_CPPv3N17DeviceHandlerBase23initializeLocalDataPoolERN9localpool8DataPoolER20LocalDataPoolManager"></span><span id="_CPPv2N17DeviceHandlerBase23initializeLocalDataPoolERN9localpool8DataPoolER20LocalDataPoolManager"></span><span id="DeviceHandlerBase::initializeLocalDataPool__localpool::DataPoolR.LocalDataPoolManagerR"></span><span class="target" id="class_device_handler_base_1abbdc49aad3c306adbf5435bb857ed2c3"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initializeLocalDataPool</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">localpool</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">DataPool</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">localDataPoolMap</span></span>, <span class="n"><span class="pre">LocalDataPoolManager</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">poolManager</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase23initializeLocalDataPoolERN9localpool8DataPoolER20LocalDataPoolManager" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This function is used to initialize the local housekeeping pool entries. The default implementation leaves the pool empty. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>localDataPoolMap</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase31setNormalDatapoolEntriesInvalidEv">
<span id="_CPPv3N17DeviceHandlerBase31setNormalDatapoolEntriesInvalidEv"></span><span id="_CPPv2N17DeviceHandlerBase31setNormalDatapoolEntriesInvalidEv"></span><span id="DeviceHandlerBase::setNormalDatapoolEntriesInvalid"></span><span class="target" id="class_device_handler_base_1a8f165881be2b5c457bb011569bed43ca"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setNormalDatapoolEntriesInvalid</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase31setNormalDatapoolEntriesInvalidEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set all datapool variables that are update periodically in normal mode invalid. </p>
<p>The default implementation will set all datasets which have been added in <a class="reference internal" href="#class_device_handler_base_1ac0466f44bafd16da2900b87d0220e030"><span class="std std-ref">fillCommandAndReplyMap</span></a> to invalid. It will also set all pool variables inside the dataset to invalid. The user can override this method optionally. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase16getDataSetHandleE5sid_t">
<span id="_CPPv3N17DeviceHandlerBase16getDataSetHandleE5sid_t"></span><span id="_CPPv2N17DeviceHandlerBase16getDataSetHandleE5sid_t"></span><span id="DeviceHandlerBase::getDataSetHandle__sid_t"></span><span class="target" id="class_device_handler_base_1aa716d523d3201972c2c98bed909df8ea"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">LocalPoolDataSetBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">getDataSetHandle</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">sid_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sid</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase16getDataSetHandleE5sid_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the dataset handle for a given SID. </p>
<p>The default implementation will use the deviceCommandMap to look for the corresponding dataset handle. The user can override this function if this is not desired. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sid</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase7setModeE6Mode_t">
<span id="_CPPv3N17DeviceHandlerBase7setModeE6Mode_t"></span><span id="_CPPv2N17DeviceHandlerBase7setModeE6Mode_t"></span><span id="DeviceHandlerBase::setMode__Mode_t"></span><span class="target" id="class_device_handler_base_1a8c5714d34bcaa1336d1dd3f0902cc2c0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setMode</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">newMode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase7setModeE6Mode_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the device handler mode. </p>
<p>Sets timeoutStart with every call Also sets #transitionTargetMode if necessary so transitional states can be entered from everywhere without breaking the state machine (which relies on a correct #transitionTargetMode). The submode is left unchanged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>newMode</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase7setModeE6Mode_t9Submode_t">
<span id="_CPPv3N17DeviceHandlerBase7setModeE6Mode_t9Submode_t"></span><span id="_CPPv2N17DeviceHandlerBase7setModeE6Mode_t9Submode_t"></span><span id="DeviceHandlerBase::setMode__Mode_t.Submode_t"></span><span class="target" id="class_device_handler_base_1afe1598f25b470285857397ea2e5f5612"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setMode</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">newMode</span></span>, <span class="n"><span class="pre">Submode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">submode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase7setModeE6Mode_t9Submode_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is an overloaded member function, provided for convenience. It differs from the above function only in what argument(s) it accepts. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>submode</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase22isModeCombinationValidE6Mode_t9Submode_t">
<span id="_CPPv3N17DeviceHandlerBase22isModeCombinationValidE6Mode_t9Submode_t"></span><span id="_CPPv2N17DeviceHandlerBase22isModeCombinationValidE6Mode_t9Submode_t"></span><span id="DeviceHandlerBase::isModeCombinationValid__Mode_t.Submode_t"></span><span class="target" id="class_device_handler_base_1a984af21938cee561769984ffea086750"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isModeCombinationValid</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">mode</span></span>, <span class="n"><span class="pre">Submode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">submode</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase22isModeCombinationValidE6Mode_t9Submode_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Should be implemented properly by child class. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> – </p></li>
<li><p><strong>submode</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> if valid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> if invalid </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase11modeChangedEv">
<span id="_CPPv3N17DeviceHandlerBase11modeChangedEv"></span><span id="_CPPv2N17DeviceHandlerBase11modeChangedEv"></span><span id="DeviceHandlerBase::modeChanged"></span><span class="target" id="class_device_handler_base_1aa071419da9a8be151a5b07b9e132d2d7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modeChanged</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase11modeChangedEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Notify child about mode change. </p>
<p>Can be overriden to be used like a callback. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase11getSwitchesEPPK7uint8_tP7uint8_t">
<span id="_CPPv3N17DeviceHandlerBase11getSwitchesEPPK7uint8_tP7uint8_t"></span><span id="_CPPv2N17DeviceHandlerBase11getSwitchesEPPK7uint8_tP7uint8_t"></span><span id="DeviceHandlerBase::getSwitches__uint8_tCPP.uint8_tP"></span><span class="target" id="class_device_handler_base_1a08db1e3913efba9352cef770a7cea497"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getSwitches</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">switches</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">numberOfSwitches</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase11getSwitchesEPPK7uint8_tP7uint8_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return the switches connected to the device.</p>
<p>The default implementation returns one switch set in the ctor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>switches</strong> – <strong>[out]</strong> pointer to an array of switches </p></li>
<li><p><strong>numberOfSwitches</strong> – <strong>[out]</strong> length of returned array </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> if the parameters were set</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::FAILED</span></code> if no switches exist </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase11missedReplyE17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase11missedReplyE17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase11missedReplyE17DeviceCommandId_t"></span><span id="DeviceHandlerBase::missedReply__DeviceCommandId_t"></span><span class="target" id="class_device_handler_base_1a57175c37b6a402b91b7d36dac154f161"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">missedReply</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase11missedReplyE17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Helper function to report a missed reply. </p>
<p>Can be overwritten by children to act on missed replies or to fake reporting Id. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>id</strong> – of the missed reply </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase20performOperationHookEv">
<span id="_CPPv3N17DeviceHandlerBase20performOperationHookEv"></span><span id="_CPPv2N17DeviceHandlerBase20performOperationHookEv"></span><span id="DeviceHandlerBase::performOperationHook"></span><span class="target" id="class_device_handler_base_1a4e2fc78dc384938e8b097429e4bd6e7a"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">performOperationHook</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase20performOperationHookEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Hook function for child handlers which is called once per <a class="reference internal" href="#class_device_handler_base_1ac1a6d3d2814b6511f6b591d3790c245b"><span class="std std-ref">performOperation()</span></a>. Default implementation is empty. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14debugInterfaceE7uint8_t11object_id_t8uint32_t">
<span id="_CPPv3N17DeviceHandlerBase14debugInterfaceE7uint8_t11object_id_t8uint32_t"></span><span id="_CPPv2N17DeviceHandlerBase14debugInterfaceE7uint8_t11object_id_t8uint32_t"></span><span id="DeviceHandlerBase::debugInterface__uint8_t.object_id_t.uint32_t"></span><span class="target" id="class_device_handler_base_1a795c1eae875032e738d7e500ccf4eb61"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debugInterface</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">positionTracker</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">objectId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14debugInterfaceE7uint8_t11object_id_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Can be implemented by child handler to perform debugging. </p>
<p>Example: Calling this in performOperation to track values like mode. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>positionTracker</strong> – Provide the child handler a way to know where the debugInterface was called </p></li>
<li><p><strong>objectId</strong> – Provide the child handler object Id to specify actions for spefic devices </p></li>
<li><p><strong>parameter</strong> – Supply a parameter of interest Please delete all debugInterface calls in DHB after debugging is finished ! </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase25replyReturnvalueToCommandE13ReturnValue_t8uint32_t">
<span id="_CPPv3N17DeviceHandlerBase25replyReturnvalueToCommandE13ReturnValue_t8uint32_t"></span><span id="_CPPv2N17DeviceHandlerBase25replyReturnvalueToCommandE13ReturnValue_t8uint32_t"></span><span id="DeviceHandlerBase::replyReturnvalueToCommand__ReturnValue_t.uint32_t"></span><span class="target" id="class_device_handler_base_1a59c37c88750708b968b586a53e746447"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replyReturnvalueToCommand</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase25replyReturnvalueToCommandE13ReturnValue_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Send a reply to a received device handler command. </p>
<p>This also resets #DeviceHandlerCommand to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reply</strong> – the reply type </p></li>
<li><p><strong>parameter</strong> – parameter for the reply </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14replyToCommandE13ReturnValue_t8uint32_t">
<span id="_CPPv3N17DeviceHandlerBase14replyToCommandE13ReturnValue_t8uint32_t"></span><span id="_CPPv2N17DeviceHandlerBase14replyToCommandE13ReturnValue_t8uint32_t"></span><span id="DeviceHandlerBase::replyToCommand__ReturnValue_t.uint32_t"></span><span class="target" id="class_device_handler_base_1a60d9c324d9af9c324bfbeea635718a4d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replyToCommand</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14replyToCommandE13ReturnValue_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>TODO: Whats the difference between this and the upper command? </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> – </p></li>
<li><p><strong>parameter</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12doTransitionE6Mode_t9Submode_t">
<span id="_CPPv3N17DeviceHandlerBase12doTransitionE6Mode_t9Submode_t"></span><span id="_CPPv2N17DeviceHandlerBase12doTransitionE6Mode_t9Submode_t"></span><span id="DeviceHandlerBase::doTransition__Mode_t.Submode_t"></span><span class="target" id="class_device_handler_base_1a0d0989eaa2cc0cab323cd19a24381dc9"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">doTransition</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">modeFrom</span></span>, <span class="n"><span class="pre">Submode_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">subModeFrom</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12doTransitionE6Mode_t9Submode_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Do the transition to the main modes (MODE_ON, MODE_NORMAL and MODE_RAW).</p>
<p>If the transition is complete, the mode should be set to the target mode, which can be deduced from the current mode which is [_MODE_TO_ON, _MODE_TO_NORMAL, _MODE_TO_RAW]</p>
<p>The intended target submode is already set. The origin submode can be read in subModeFrom.</p>
<p>If the transition can not be completed, the child class can try to reach an working mode by setting the mode either directly or setting the mode to an transitional mode (TO_ON, TO_NORMAL, TO_RAW) if the device needs to be reconfigured.</p>
<p>If nothing works, the child class can wait for the timeout and the base class will reset the mode to the mode where the transition originated from (the child should report the reason for the failed transition).</p>
<p>The intended way to send commands is to set a flag (enum) indicating which command is to be sent here and then to check in buildTransitionCommand() for the flag. This flag can also be used by <a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a> and <a class="reference internal" href="#class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"><span class="std std-ref">doShutDown()</span></a> to get a nice and clean implementation of buildTransitionCommand() without switching through modes.</p>
<p>When the the condition for the completion of the transition is met, the mode can be set, for example in the <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a> function.</p>
<p>The default implementation goes into the target mode directly.</p>
<p>#transitionFailure can be set to a failure code indicating the reason for a failed transition</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modeFrom</strong> – The mode the transition originated from: [MODE_ON, MODE_NORMAL, MODE_RAW and _MODE_POWER_DOWN (if the mode changed from _MODE_START_UP to _MODE_TO_ON)] </p></li>
<li><p><strong>subModeFrom</strong> – the subMode of modeFrom </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12getComActionEv">
<span id="_CPPv3N17DeviceHandlerBase12getComActionEv"></span><span id="_CPPv2N17DeviceHandlerBase12getComActionEv"></span><span id="DeviceHandlerBase::getComAction"></span><span class="target" id="class_device_handler_base_1af7f86a2941c9d922848b891cee06adf7"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">CommunicationAction</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getComAction</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12getComActionEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the communication action for the current step. The step number can be read from <a class="reference internal" href="#class_device_handler_base_1a456758730f5643b1d55a22758f0c9423"><span class="std std-ref">pstStep</span></a>. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The communication action to execute in this step </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase16checkSwitchStateEv">
<span id="_CPPv3N17DeviceHandlerBase16checkSwitchStateEv"></span><span id="_CPPv2N17DeviceHandlerBase16checkSwitchStateEv"></span><span id="DeviceHandlerBase::checkSwitchState"></span><span class="target" id="class_device_handler_base_1a46e1b5530d2a30f08fe07c56eaa88690"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">checkSwitchState</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase16checkSwitchStateEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks state of switches in conjunction with mode and triggers an event if they don’t fit. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase13doOffActivityEv">
<span id="_CPPv3N17DeviceHandlerBase13doOffActivityEv"></span><span id="_CPPv2N17DeviceHandlerBase13doOffActivityEv"></span><span id="DeviceHandlerBase::doOffActivity"></span><span class="target" id="class_device_handler_base_1aa48f8a332fe020306f0e0dc3b4378946"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">doOffActivity</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase13doOffActivityEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reserved for the rare case where a device needs to perform additional operation cyclically in OFF mode. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12doOnActivityEv">
<span id="_CPPv3N17DeviceHandlerBase12doOnActivityEv"></span><span id="_CPPv2N17DeviceHandlerBase12doOnActivityEv"></span><span id="DeviceHandlerBase::doOnActivity"></span><span class="target" id="class_device_handler_base_1ac315692ec75de7d7173a67027a39c84d"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">doOnActivity</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12doOnActivityEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reserved for the rare case where a device needs to perform additional operation cyclically in ON mode. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18getHkManagerHandleEv">
<span id="_CPPv3N17DeviceHandlerBase18getHkManagerHandleEv"></span><span id="_CPPv2N17DeviceHandlerBase18getHkManagerHandleEv"></span><span id="DeviceHandlerBase::getHkManagerHandle"></span><span class="target" id="class_device_handler_base_1ae45e991212c054e914a52812a6a1e42c"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">LocalDataPoolManager</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">getHkManagerHandle</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18getHkManagerHandleEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Required for HasLocalDataPoolIF, return a handle to the local pool manager. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase19getReplyDelayCyclesE17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase19getReplyDelayCyclesE17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase19getReplyDelayCyclesE17DeviceCommandId_t"></span><span id="DeviceHandlerBase::getReplyDelayCycles__DeviceCommandId_t"></span><span class="target" id="class_device_handler_base_1a13a1eb8c4a488791afbbc5b3ce9ba959"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getReplyDelayCycles</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">deviceCommand</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase19getReplyDelayCyclesE17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the delay cycle count of a reply. A count != 0 indicates that the command is already executed. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>deviceCommand</strong> – The command to look for </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current delay count. If the command does not exist (should never happen) it returns 0. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase28replyRawReplyIfnotWiretappedEPK7uint8_t6size_t">
<span id="_CPPv3N17DeviceHandlerBase28replyRawReplyIfnotWiretappedEPK7uint8_t6size_t"></span><span id="_CPPv2N17DeviceHandlerBase28replyRawReplyIfnotWiretappedEPK7uint8_t6size_t"></span><span id="DeviceHandlerBase::replyRawReplyIfnotWiretapped__uint8_tCP.s"></span><span class="target" id="class_device_handler_base_1a5b56ef56f983bf8eec4a977c49f8cbca"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replyRawReplyIfnotWiretapped</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase28replyRawReplyIfnotWiretappedEPK7uint8_t6size_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Calls <a class="reference internal" href="#class_device_handler_base_1a57144ea0ff049bebb1c97fba02e32a4b"><span class="std std-ref">replyRawData()</span></a> with <a class="reference internal" href="#class_device_handler_base_1a8421c9659d28e4b9c87f49068e43a61d"><span class="std std-ref">defaultRawReceiver</span></a>, but checks if wiretapping is active and if so, does not send the data as the wiretapping will have sent it already </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase21enableReplyInReplyMapEN16DeviceCommandMap8iteratorE7uint8_tb17DeviceCommandId_t">
<span id="_CPPv3N17DeviceHandlerBase21enableReplyInReplyMapEN16DeviceCommandMap8iteratorE7uint8_tb17DeviceCommandId_t"></span><span id="_CPPv2N17DeviceHandlerBase21enableReplyInReplyMapEN16DeviceCommandMap8iteratorE7uint8_tb17DeviceCommandId_t"></span><span id="DeviceHandlerBase::enableReplyInReplyMap__DeviceCommandMap::iterator.uint8_t.b.DeviceCommandId_t"></span><span class="target" id="class_device_handler_base_1ac4a4c3aec63455beecdb24f132c76018"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enableReplyInReplyMap</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">DeviceCommandMap</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">iterator</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">command</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">expectedReplies</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">useAlternateId</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">alternateReplyID</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase21enableReplyInReplyMapEN16DeviceCommandMap8iteratorE7uint8_tb17DeviceCommandId_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable the reply checking for a command</p>
<p>Is only called, if the command was sent (i.e. the getWriteReply was successful). Must ensure that all replies are activated and correctly linked to the command that initiated it. The default implementation looks for a reply with the same id as the command id in the replyMap or uses the alternativeReplyId if flagged so. When found, copies maxDelayCycles to delayCycles in the reply information and sets the command to expect one reply.</p>
<p>Can be overwritten by the child, if a command activates multiple replies or replyId differs from commandId. Notes for child implementations:<ul class="simple">
<li><p>If the command was not found in the reply map, NO_REPLY_EXPECTED MUST be returned.</p></li>
<li><p>A failure code may be returned if something went fundamentally wrong.</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>deviceCommand</strong> – </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>- returnvalue::OK if a reply was activated.<ul class="simple">
<li><p>NO_REPLY_EXPECTED if there was no reply found. This is not an error case as many commands do not expect a reply. </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase20buildChildRawCommandEv">
<span id="_CPPv3N17DeviceHandlerBase20buildChildRawCommandEv"></span><span id="_CPPv2N17DeviceHandlerBase20buildChildRawCommandEv"></span><span id="DeviceHandlerBase::buildChildRawCommand"></span><span class="target" id="class_device_handler_base_1a7874dabdb340419c74148a7073d4fe5a"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buildChildRawCommand</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase20buildChildRawCommandEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Build the device command to send for raw mode. </p>
<p>This is only called in <code class="docutils literal notranslate"><span class="pre">MODE_RAW</span></code>. It is for the rare case that in raw mode packets are to be sent by the handler itself. It is NOT needed for the raw commanding service. Its only current use is in the STR handler which gets its raw packets from a different source. Also it can be used for transitional commands, to get the device ready for <code class="docutils literal notranslate"><span class="pre">MODE_RAW</span></code></p>
<p>As it is almost never used, there is a default implementation returning <code class="docutils literal notranslate"><span class="pre">NOTHING_TO_SEND</span></code>.</p>
<p><a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a> and <a class="reference internal" href="#class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"><span class="std std-ref">rawPacketLen</span></a> must be set by this method to the packet to be sent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>id</strong> – <strong>[out]</strong> the device command id built </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">returnvalue::OK</span></code> when a command is to be sent</p></li>
<li><p>not <code class="docutils literal notranslate"><span class="pre">NOTHING_TO_SEND</span></code> when no command is to be sent </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12replyRawDataEPK7uint8_t6size_t16MessageQueueId_tb">
<span id="_CPPv3N17DeviceHandlerBase12replyRawDataEPK7uint8_t6size_t16MessageQueueId_tb"></span><span id="_CPPv2N17DeviceHandlerBase12replyRawDataEPK7uint8_t6size_t16MessageQueueId_tb"></span><span id="DeviceHandlerBase::replyRawData__uint8_tCP.s.MessageQueueId_t.b"></span><span class="target" id="class_device_handler_base_1a57144ea0ff049bebb1c97fba02e32a4b"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replyRawData</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">sendTo</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">isCommand</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12replyRawDataEPK7uint8_t6size_t16MessageQueueId_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Construct a command reply containing a raw reply. </p>
<p>It gets space in the <a class="reference internal" href="#class_device_handler_base_1afbb537e12ea165a96874cebe0bb76d90"><span class="std std-ref">IPCStore</span></a>, copies data there, then sends a raw reply containing the store address. This method is virtual, as devices can have different channels to send raw replies</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – data to send </p></li>
<li><p><strong>len</strong> – length of <code class="docutils literal notranslate"><span class="pre">data</span></code></p></li>
<li><p><strong>sendTo</strong> – the messageQueueId of the one to send to </p></li>
<li><p><strong>isCommand</strong> – marks the raw data as a command, the message then will be of type raw_command </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18getStateOfSwitchesEv">
<span id="_CPPv3N17DeviceHandlerBase18getStateOfSwitchesEv"></span><span id="_CPPv2N17DeviceHandlerBase18getStateOfSwitchesEv"></span><span id="DeviceHandlerBase::getStateOfSwitches"></span><span class="target" id="class_device_handler_base_1ab54a59afc6f1c675b97a0608224b7f22"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getStateOfSwitches</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18getStateOfSwitchesEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the state of the PCDU switches in the local datapool </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">PowerSwitchIF::SWITCH_ON</span></code> if all switches specified by #switches are on</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PowerSwitchIF::SWITCH_OFF</span></code> one of the switches specified by #switches are off</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PowerSwitchIF::returnvalue::FAILED</span></code> if an error occured </p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14dontCheckQueueEv">
<span id="_CPPv3N17DeviceHandlerBase14dontCheckQueueEv"></span><span id="_CPPv2N17DeviceHandlerBase14dontCheckQueueEv"></span><span id="DeviceHandlerBase::dontCheckQueue"></span><span class="target" id="class_device_handler_base_1aea35f2ce4f0749888b981456bb0796f6"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dontCheckQueue</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14dontCheckQueueEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Children can overwrite this function to suppress checking of the command Queue</p>
<p>This can be used when the child does not want to receive a command in a certain situation. Care must be taken that checking is not permanentely disabled as this would render the handler unusable.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>whether checking the queue should NOT be done </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14handleDeviceTmEPK7uint8_t6size_t17DeviceCommandId_tb">
<span id="_CPPv3N17DeviceHandlerBase14handleDeviceTmEPK7uint8_t6size_t17DeviceCommandId_tb"></span><span id="_CPPv2N17DeviceHandlerBase14handleDeviceTmEPK7uint8_t6size_t17DeviceCommandId_tb"></span><span id="DeviceHandlerBase::handleDeviceTm__uint8_tCP.s.DeviceCommandId_t.b"></span><span class="target" id="class_device_handler_base_1a9b684ba568074e6d9cff15bccede64a5"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handleDeviceTm</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rawData</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rawDataLen</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">replyId</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">forceDirectTm</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14handleDeviceTmEPK7uint8_t6size_t17DeviceCommandId_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Wrapper function for &#64;handleDeviceTm which wraps the raw buffer with &#64;SerialBufferAdapter. For interpreted data, prefer the other function. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rawData</strong> – </p></li>
<li><p><strong>rawDataLen</strong> – </p></li>
<li><p><strong>replyId</strong> – </p></li>
<li><p><strong>forceDirectTm</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14handleDeviceTmERK11SerializeIF17DeviceCommandId_tb">
<span id="_CPPv3N17DeviceHandlerBase14handleDeviceTmERK11SerializeIF17DeviceCommandId_tb"></span><span id="_CPPv2N17DeviceHandlerBase14handleDeviceTmERK11SerializeIF17DeviceCommandId_tb"></span><span id="DeviceHandlerBase::handleDeviceTm__SerializeIFCR.DeviceCommandId_t.b"></span><span class="target" id="class_device_handler_base_1a19b14665544952670de1cdd63d0d8e38"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handleDeviceTm</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">SerializeIF</span></span><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">dataSet</span></span>, <span class="n"><span class="pre">DeviceCommandId_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">replyId</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">forceDirectTm</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14handleDeviceTmERK11SerializeIF17DeviceCommandId_tb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Can be used to handle Service 8 data replies. This will also generate the TM wiretapping packets accordingly. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataSet</strong> – </p></li>
<li><p><strong>replyId</strong> – </p></li>
<li><p><strong>forceDirectTm</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12triggerEventE5Event8uint32_t8uint32_t">
<span id="_CPPv3N17DeviceHandlerBase12triggerEventE5Event8uint32_t8uint32_t"></span><span id="_CPPv2N17DeviceHandlerBase12triggerEventE5Event8uint32_t8uint32_t"></span><span id="DeviceHandlerBase::triggerEvent__Event.uint32_t.uint32_t"></span><span class="target" id="class_device_handler_base_1a6f14be664d8600b7626bbb3954f03752"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">triggerEvent</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="event.html#_CPPv45Event" title="Event"><span class="n"><span class="pre">Event</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">event</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter1</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter2</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12triggerEventE5Event8uint32_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Overwrites <a class="reference internal" href="objectmanager.html#class_system_object_1a6268268361ee286b34f6d887af1fe3fe"><span class="std std-ref">SystemObject::triggerEvent</span></a> in order to inform FDIR”Helper” faster about executed events. This is a bit sneaky, but improves responsiveness of the device FDIR. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – The event to be thrown </p></li>
<li><p><strong>parameter1</strong> – Optional parameter 1 </p></li>
<li><p><strong>parameter2</strong> – Optional parameter 2 </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK17DeviceHandlerBase12forwardEventE5Event8uint32_t8uint32_t">
<span id="_CPPv3NK17DeviceHandlerBase12forwardEventE5Event8uint32_t8uint32_t"></span><span id="_CPPv2NK17DeviceHandlerBase12forwardEventE5Event8uint32_t8uint32_t"></span><span id="DeviceHandlerBase::forwardEvent__Event.uint32_t.uint32_tC"></span><span class="target" id="class_device_handler_base_1a2fd2036d4e9a68a1aa05e68e07fae987"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">forwardEvent</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="event.html#_CPPv45Event" title="Event"><span class="n"><span class="pre">Event</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">event</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter1</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parameter2</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4NK17DeviceHandlerBase12forwardEventE5Event8uint32_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Same as triggerEvent, but for forwarding if object is used as proxy. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18isTransitionalModeEv">
<span id="_CPPv3N17DeviceHandlerBase18isTransitionalModeEv"></span><span id="_CPPv2N17DeviceHandlerBase18isTransitionalModeEv"></span><span id="DeviceHandlerBase::isTransitionalMode"></span><span class="target" id="class_device_handler_base_1ac7bd9c2cd357d8642ff523a417e363e7"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isTransitionalMode</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18isTransitionalModeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if current mode is transitional mode. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>true if mode is transitional, false else. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase28acceptExternalDeviceCommandsEv">
<span id="_CPPv3N17DeviceHandlerBase28acceptExternalDeviceCommandsEv"></span><span id="_CPPv2N17DeviceHandlerBase28acceptExternalDeviceCommandsEv"></span><span id="DeviceHandlerBase::acceptExternalDeviceCommands"></span><span class="target" id="class_device_handler_base_1ace987ed80a242734e08320c6f5820ca4"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">acceptExternalDeviceCommands</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase28acceptExternalDeviceCommandsEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Checks if current handler state allows reception of external device commands. Default implementation allows commands only in plain MODE_ON and MODE_NORMAL. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>returnvalue::OK if commands are accepted, anything else otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase13commandSwitchE13ReturnValue_t">
<span id="_CPPv3N17DeviceHandlerBase13commandSwitchE13ReturnValue_t"></span><span id="_CPPv2N17DeviceHandlerBase13commandSwitchE13ReturnValue_t"></span><span id="DeviceHandlerBase::commandSwitch__ReturnValue_t"></span><span class="target" id="class_device_handler_base_1afd7b565d74be90a9d6648adda3a3eb37"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">commandSwitch</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">onOff</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase13commandSwitchE13ReturnValue_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>set all switches returned by <a class="reference internal" href="#class_device_handler_base_1a08db1e3913efba9352cef770a7cea497"><span class="std std-ref">getSwitches()</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>onOff</strong> – on == <code class="docutils literal notranslate"><span class="pre">SWITCH_ON</span></code>; off != <code class="docutils literal notranslate"><span class="pre">SWITCH_ON</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14doSendReadHookEv">
<span id="_CPPv3N17DeviceHandlerBase14doSendReadHookEv"></span><span id="_CPPv2N17DeviceHandlerBase14doSendReadHookEv"></span><span id="DeviceHandlerBase::doSendReadHook"></span><span class="target" id="class_device_handler_base_1a767c3b9bc2d90dc044adfef53bc27b0f"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">doSendReadHook</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14doSendReadHookEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This function can be used to insert device specific code during the do-send-read step. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-attributes">Protected Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase9rawPacketE">
<span id="_CPPv3N17DeviceHandlerBase9rawPacketE"></span><span id="_CPPv2N17DeviceHandlerBase9rawPacketE"></span><span id="DeviceHandlerBase::rawPacket__uint8_tP"></span><span class="target" id="class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rawPacket</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase9rawPacketE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to the raw packet that will be sent. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12rawPacketLenE">
<span id="_CPPv3N17DeviceHandlerBase12rawPacketLenE"></span><span id="_CPPv2N17DeviceHandlerBase12rawPacketLenE"></span><span id="DeviceHandlerBase::rawPacketLen__s"></span><span class="target" id="class_device_handler_base_1ab910e20414a75dee2c1be01a3b65fb96"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rawPacketLen</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12rawPacketLenE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Size of the <a class="reference internal" href="#class_device_handler_base_1a7a88f34f8debc954c11d440aac261a0f"><span class="std std-ref">rawPacket</span></a>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase4modeE">
<span id="_CPPv3N17DeviceHandlerBase4modeE"></span><span id="_CPPv2N17DeviceHandlerBase4modeE"></span><span id="DeviceHandlerBase::mode__Mode_t"></span><span class="target" id="class_device_handler_base_1a2ef323d5233604040197934485502f41"></span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mode</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase4modeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The mode the device handler is currently in. This should never be changed directly but only with <a class="reference internal" href="#class_device_handler_base_1a8c5714d34bcaa1336d1dd3f0902cc2c0"><span class="std std-ref">setMode()</span></a></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase7submodeE">
<span id="_CPPv3N17DeviceHandlerBase7submodeE"></span><span id="_CPPv2N17DeviceHandlerBase7submodeE"></span><span id="DeviceHandlerBase::submode__Submode_t"></span><span class="target" id="class_device_handler_base_1a7f7fd281519a494c371ea2b8020dc61f"></span><span class="n"><span class="pre">Submode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">submode</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase7submodeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The submode the device handler is currently in. This should never be changed directly but only with <a class="reference internal" href="#class_device_handler_base_1a8c5714d34bcaa1336d1dd3f0902cc2c0"><span class="std std-ref">setMode()</span></a></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase7pstStepE">
<span id="_CPPv3N17DeviceHandlerBase7pstStepE"></span><span id="_CPPv2N17DeviceHandlerBase7pstStepE"></span><span id="DeviceHandlerBase::pstStep__uint8_t"></span><span class="target" id="class_device_handler_base_1a456758730f5643b1d55a22758f0c9423"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pstStep</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase7pstStepE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is the counter value from <a class="reference internal" href="#class_device_handler_base_1ac1a6d3d2814b6511f6b591d3790c245b"><span class="std std-ref">performOperation()</span></a>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18defaultRawReceiverE">
<span id="_CPPv3N17DeviceHandlerBase18defaultRawReceiverE"></span><span id="_CPPv2N17DeviceHandlerBase18defaultRawReceiverE"></span><span id="DeviceHandlerBase::defaultRawReceiver__MessageQueueId_t"></span><span class="target" id="class_device_handler_base_1a8421c9659d28e4b9c87f49068e43a61d"></span><span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">defaultRawReceiver</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><a class="reference internal" href="ipc.html#_CPPv414MessageQueueIF" title="MessageQueueIF"><span class="n"><span class="pre">MessageQueueIF</span></span></a><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">NO_QUEUE</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18defaultRawReceiverE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>A message queue that accepts raw replies. </p>
<p>Statically initialized in <a class="reference internal" href="#class_device_handler_base_1a61e20a361d0adc3e4697db0ace7eca33"><span class="std std-ref">initialize()</span></a> to a configurable object. Used when there is no method of finding a recipient, ie raw mode and reporting erroneous replies </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase19requestedRawTrafficE">
<span id="_CPPv3N17DeviceHandlerBase19requestedRawTrafficE"></span><span id="_CPPv2N17DeviceHandlerBase19requestedRawTrafficE"></span><span id="DeviceHandlerBase::requestedRawTraffic__MessageQueueId_t"></span><span class="target" id="class_device_handler_base_1a4bf201a899550ce863bc5d6062447e12"></span><span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">requestedRawTraffic</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase19requestedRawTrafficE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The message queue which wants to read all raw traffic If #isWiretappingActive all raw communication from and to the device will be sent to this queue. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase8IPCStoreE">
<span id="_CPPv3N17DeviceHandlerBase8IPCStoreE"></span><span id="_CPPv2N17DeviceHandlerBase8IPCStoreE"></span><span id="DeviceHandlerBase::IPCStore__StorageManagerIFP"></span><span class="target" id="class_device_handler_base_1afbb537e12ea165a96874cebe0bb76d90"></span><span class="n"><span class="pre">StorageManagerIF</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">IPCStore</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase8IPCStoreE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to the IPCStore. This caches the pointer received from the objectManager in the constructor. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase21deviceCommunicationIdE">
<span id="_CPPv3N17DeviceHandlerBase21deviceCommunicationIdE"></span><span id="_CPPv2N17DeviceHandlerBase21deviceCommunicationIdE"></span><span id="DeviceHandlerBase::deviceCommunicationId__object_id_t"></span><span class="target" id="class_device_handler_base_1a236463fe4f7acdc3a1b32509e082baca"></span><span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deviceCommunicationId</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase21deviceCommunicationIdE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The comIF object ID is cached for the intialize() function </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase22communicationInterfaceE">
<span id="_CPPv3N17DeviceHandlerBase22communicationInterfaceE"></span><span id="_CPPv2N17DeviceHandlerBase22communicationInterfaceE"></span><span id="DeviceHandlerBase::communicationInterface__DeviceCommunicationIFP"></span><span class="target" id="class_device_handler_base_1a834c537d4a30d619a711f3a5f656593f"></span><span class="n"><span class="pre">DeviceCommunicationIF</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">communicationInterface</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase22communicationInterfaceE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Communication object used for device communication </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase9comCookieE">
<span id="_CPPv3N17DeviceHandlerBase9comCookieE"></span><span id="_CPPv2N17DeviceHandlerBase9comCookieE"></span><span id="DeviceHandlerBase::comCookie__CookieIFP"></span><span class="target" id="class_device_handler_base_1ad957d5578c9a716d2ad53df2fca237c8"></span><span class="n"><span class="pre">CookieIF</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">comCookie</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase9comCookieE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Cookie used for communication </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase16deviceCommandMapE">
<span id="_CPPv3N17DeviceHandlerBase16deviceCommandMapE"></span><span id="_CPPv2N17DeviceHandlerBase16deviceCommandMapE"></span><span id="DeviceHandlerBase::deviceCommandMap__DeviceCommandMap"></span><span class="target" id="class_device_handler_base_1acbc8b7204c850f6095005e2582e775d0"></span><span class="n"><span class="pre">DeviceCommandMap</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deviceCommandMap</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase16deviceCommandMapE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Information about commands </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase14deviceReplyMapE">
<span id="_CPPv3N17DeviceHandlerBase14deviceReplyMapE"></span><span id="_CPPv2N17DeviceHandlerBase14deviceReplyMapE"></span><span id="DeviceHandlerBase::deviceReplyMap__DeviceReplyMap"></span><span class="target" id="class_device_handler_base_1a1f7e943046f3beb88ec6719140c4da82"></span><span class="n"><span class="pre">DeviceReplyMap</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deviceReplyMap</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase14deviceReplyMapE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This map is used to check and track correct reception of all replies.</p>
<p>It has multiple use:<ul class="simple">
<li><p>It stores the information on pending replies. If a command is sent, the DeviceCommandInfo.count is incremented.</p></li>
<li><p>It is used to time-out missing replies. If a command is sent, the DeviceCommandInfo.DelayCycles is set to MaxDelayCycles.</p></li>
<li><p>It is queried to check if a reply from the device can be interpreted. <a class="reference internal" href="#class_device_handler_base_1ac4329752fdb5f3c6d5324f48284b2c13"><span class="std std-ref">scanForReply()</span></a> returns the id of the command a reply was found for. The reply is ignored in the following cases:<ul>
<li><p>No entry for the returned id was found</p></li>
<li><p>The deviceReplyInfo.delayCycles is == 0 </p></li>
</ul>
</p></li>
</ul>
</p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12commandQueueE">
<span id="_CPPv3N17DeviceHandlerBase12commandQueueE"></span><span id="_CPPv2N17DeviceHandlerBase12commandQueueE"></span><span id="DeviceHandlerBase::commandQueue__MessageQueueIFP"></span><span class="target" id="class_device_handler_base_1ab5093a8840444af019929a1bf9b85a07"></span><a class="reference internal" href="ipc.html#_CPPv414MessageQueueIF" title="MessageQueueIF"><span class="n"><span class="pre">MessageQueueIF</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">commandQueue</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12commandQueueE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The MessageQueue used to receive device handler commands and to send replies. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase22childTransitionFailureE">
<span id="_CPPv3N17DeviceHandlerBase22childTransitionFailureE"></span><span id="_CPPv2N17DeviceHandlerBase22childTransitionFailureE"></span><span id="DeviceHandlerBase::childTransitionFailure__ReturnValue_t"></span><span class="target" id="class_device_handler_base_1a4413c1120d7d6b85323979b27241c63e"></span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">childTransitionFailure</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase22childTransitionFailureE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Optional Error code. Can be set in <a class="reference internal" href="#class_device_handler_base_1a17ceb519b1bb9c2388240cf50ddc0b7e"><span class="std std-ref">doStartUp()</span></a>, <a class="reference internal" href="#class_device_handler_base_1a244914934c6d4ba1bd19f66dc2cc74d1"><span class="std std-ref">doShutDown()</span></a> and <a class="reference internal" href="#class_device_handler_base_1a0d0989eaa2cc0cab323cd19a24381dc9"><span class="std std-ref">doTransition()</span></a> to signal cause for Transition failure. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase24ignoreMissedRepliesCountE">
<span id="_CPPv3N17DeviceHandlerBase24ignoreMissedRepliesCountE"></span><span id="_CPPv2N17DeviceHandlerBase24ignoreMissedRepliesCountE"></span><span id="DeviceHandlerBase::ignoreMissedRepliesCount__uint32_t"></span><span class="target" id="class_device_handler_base_1a122baa2b44abc1e83b4b96b4faefb5b9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ignoreMissedRepliesCount</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase24ignoreMissedRepliesCountE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Counts if communication channel lost a reply, so some missed replys can be ignored. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase12fdirInstanceE">
<span id="_CPPv3N17DeviceHandlerBase12fdirInstanceE"></span><span id="_CPPv2N17DeviceHandlerBase12fdirInstanceE"></span><span id="DeviceHandlerBase::fdirInstance__FailureIsolationBaseP"></span><span class="target" id="class_device_handler_base_1adbb119f3b47715f27db724413b8903ab"></span><span class="n"><span class="pre">FailureIsolationBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">fdirInstance</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase12fdirInstanceE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to the used FDIR instance. If not provided by child, default class is instantiated. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15defaultFDIRUsedE">
<span id="_CPPv3N17DeviceHandlerBase15defaultFDIRUsedE"></span><span id="_CPPv2N17DeviceHandlerBase15defaultFDIRUsedE"></span><span id="DeviceHandlerBase::defaultFDIRUsed__b"></span><span class="target" id="class_device_handler_base_1a820993e996c491f8a7e6d553bf1298a6"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">defaultFDIRUsed</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15defaultFDIRUsedE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>To correctly delete the default instance. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase20switchOffWasReportedE">
<span id="_CPPv3N17DeviceHandlerBase20switchOffWasReportedE"></span><span id="_CPPv2N17DeviceHandlerBase20switchOffWasReportedE"></span><span id="DeviceHandlerBase::switchOffWasReported__b"></span><span class="target" id="class_device_handler_base_1afaaf4cdeed1b74c0193942d69ee2f436"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">switchOffWasReported</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase20switchOffWasReportedE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Indicates if SWITCH_WENT_OFF was already thrown. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase13executingTaskE">
<span id="_CPPv3N17DeviceHandlerBase13executingTaskE"></span><span id="_CPPv2N17DeviceHandlerBase13executingTaskE"></span><span id="DeviceHandlerBase::executingTask__PeriodicTaskIFP"></span><span class="target" id="class_device_handler_base_1add65fb1cd1bc33cca7e5cd70e880f42b"></span><span class="n"><span class="pre">PeriodicTaskIF</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">executingTask</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase13executingTaskE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pointer to the task which executes this component, is invalid before setTaskIF was called. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-protected-static-attributes">Protected Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15APERIODIC_REPLYE">
<span id="_CPPv3N17DeviceHandlerBase15APERIODIC_REPLYE"></span><span id="_CPPv2N17DeviceHandlerBase15APERIODIC_REPLYE"></span><span id="DeviceHandlerBase::APERIODIC_REPLY__ReturnValue_tC"></span><span class="target" id="class_device_handler_base_1acbb5b64c00d10687330cdcd7bee46023"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">APERIODIC_REPLY</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xB0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15APERIODIC_REPLYE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is used to specify for replies from a device which are not replies to requests. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17IGNORE_REPLY_DATAE">
<span id="_CPPv3N17DeviceHandlerBase17IGNORE_REPLY_DATAE"></span><span id="_CPPv2N17DeviceHandlerBase17IGNORE_REPLY_DATAE"></span><span id="DeviceHandlerBase::IGNORE_REPLY_DATA__ReturnValue_tC"></span><span class="target" id="class_device_handler_base_1a6ea87f05519f5bbcea4ff189db7cef97"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IGNORE_REPLY_DATA</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xB1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17IGNORE_REPLY_DATAE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ignore parts of the received packet. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase18IGNORE_FULL_PACKETE">
<span id="_CPPv3N17DeviceHandlerBase18IGNORE_FULL_PACKETE"></span><span id="_CPPv2N17DeviceHandlerBase18IGNORE_FULL_PACKETE"></span><span id="DeviceHandlerBase::IGNORE_FULL_PACKET__ReturnValue_tC"></span><span class="target" id="class_device_handler_base_1aebdc8397b99283b1d2c89e3169920edb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">IGNORE_FULL_PACKET</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xB2</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase18IGNORE_FULL_PACKETE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Ignore full received packet. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15NOTHING_TO_SENDE">
<span id="_CPPv3N17DeviceHandlerBase15NOTHING_TO_SENDE"></span><span id="_CPPv2N17DeviceHandlerBase15NOTHING_TO_SENDE"></span><span id="DeviceHandlerBase::NOTHING_TO_SEND__ReturnValue_tC"></span><span class="target" id="class_device_handler_base_1a4cf1200ff37bcacf1e49f7fad01550ec"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NOTHING_TO_SEND</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xC0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15NOTHING_TO_SENDE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Return this if no command sending in required. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15powerSwitcherIdE">
<span id="_CPPv3N17DeviceHandlerBase15powerSwitcherIdE"></span><span id="_CPPv2N17DeviceHandlerBase15powerSwitcherIdE"></span><span id="DeviceHandlerBase::powerSwitcherId__object_id_t"></span><span class="target" id="class_device_handler_base_1aacf9f986ac082f07037a595cc10de555"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">powerSwitcherId</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">NO_OBJECT</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15powerSwitcherIdE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Object which switches power on and off. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17rawDataReceiverIdE">
<span id="_CPPv3N17DeviceHandlerBase17rawDataReceiverIdE"></span><span id="_CPPv2N17DeviceHandlerBase17rawDataReceiverIdE"></span><span id="DeviceHandlerBase::rawDataReceiverId__object_id_t"></span><span class="target" id="class_device_handler_base_1a6a60ca35c4ed6caaab18d68ce571a1d7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rawDataReceiverId</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">NO_OBJECT</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17rawDataReceiverIdE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Object which receives RAW data by default. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase19defaultFdirParentIdE">
<span id="_CPPv3N17DeviceHandlerBase19defaultFdirParentIdE"></span><span id="_CPPv2N17DeviceHandlerBase19defaultFdirParentIdE"></span><span id="DeviceHandlerBase::defaultFdirParentId__object_id_t"></span><span class="target" id="class_device_handler_base_1a7c050720f8007c38fa405ccf5bcdf35b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">object_id_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">defaultFdirParentId</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">NO_OBJECT</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase19defaultFdirParentIdE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Object which may be the root cause of an identified fault. </p>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17DeviceCommandInfoE">
<span id="_CPPv3N17DeviceHandlerBase17DeviceCommandInfoE"></span><span id="_CPPv2N17DeviceHandlerBase17DeviceCommandInfoE"></span><span id="DeviceHandlerBase::DeviceCommandInfo"></span><span class="target" id="struct_device_handler_base_1_1_device_command_info"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DeviceCommandInfo</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17DeviceCommandInfoE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Information about commands. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17DeviceCommandInfo11isExecutingE">
<span id="_CPPv3N17DeviceHandlerBase17DeviceCommandInfo11isExecutingE"></span><span id="_CPPv2N17DeviceHandlerBase17DeviceCommandInfo11isExecutingE"></span><span id="DeviceHandlerBase::DeviceCommandInfo::isExecuting__b"></span><span class="target" id="struct_device_handler_base_1_1_device_command_info_1acd507ea51146d1784c6af5674cff897d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isExecuting</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17DeviceCommandInfo11isExecutingE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Indicates if the command is already executing. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17DeviceCommandInfo15expectedRepliesE">
<span id="_CPPv3N17DeviceHandlerBase17DeviceCommandInfo15expectedRepliesE"></span><span id="_CPPv2N17DeviceHandlerBase17DeviceCommandInfo15expectedRepliesE"></span><span id="DeviceHandlerBase::DeviceCommandInfo::expectedReplies__uint8_t"></span><span class="target" id="struct_device_handler_base_1_1_device_command_info_1a1fac754e18fe4eafaf213db27bf80dfc"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">expectedReplies</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17DeviceCommandInfo15expectedRepliesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Dynamic value to indicate how many replies are expected. Inititated with 0. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase17DeviceCommandInfo11sendReplyToE">
<span id="_CPPv3N17DeviceHandlerBase17DeviceCommandInfo11sendReplyToE"></span><span id="_CPPv2N17DeviceHandlerBase17DeviceCommandInfo11sendReplyToE"></span><span id="DeviceHandlerBase::DeviceCommandInfo::sendReplyTo__MessageQueueId_t"></span><span class="target" id="struct_device_handler_base_1_1_device_command_info_1a72d2d06437085abd257de667f15744fb"></span><span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sendReplyTo</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase17DeviceCommandInfo11sendReplyToE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>if this is != NO_COMMANDER, DHB was commanded externally and shall report everything to commander. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfoE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfoE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfoE"></span><span id="DeviceHandlerBase::DeviceReplyInfo"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DeviceReplyInfo</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfoE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Information about expected replies This is used to keep track of pending replies. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo14maxDelayCyclesE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo14maxDelayCyclesE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo14maxDelayCyclesE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::maxDelayCycles__uint16_t"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1a3b1b80ac7fbffebf6844934a0f747dd1"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">maxDelayCycles</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo14maxDelayCyclesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The maximum number of cycles the handler should wait for a reply to this command. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo11delayCyclesE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo11delayCyclesE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo11delayCyclesE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::delayCycles__uint16_t"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1aeb1a78c8567c3474ce3f922bc2180263"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">delayCycles</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo11delayCyclesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The currently remaining cycles the handler should wait for a reply, 0 means there is no reply expected </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo8replyLenE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo8replyLenE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo8replyLenE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::replyLen__s"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1ab860b5a1eebd8f260788847543b027a7"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">replyLen</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo8replyLenE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Expected size of the reply. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo8periodicE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo8periodicE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo8periodicE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::periodic__b"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1a81580b6144778c9482def2e52e5356c8"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">periodic</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo8periodicE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>if this is !=0, the delayCycles will not be reset to 0 but to maxDelayCycles </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo7dataSetE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo7dataSetE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo7dataSetE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::dataSet__LocalPoolDataSetBaseP"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1ac39177673154ddbe5fba0655211a459a"></span><span class="n"><span class="pre">LocalPoolDataSetBase</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">dataSet</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo7dataSetE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The dataset used to access housekeeping data related to the respective device reply. Will point to a dataset held by the child handler (if one is specified) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo7commandE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo7commandE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo7commandE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::command__DeviceCommandMap::iterator"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1a6fe3872db81d8fa95b80050d0580e0e9"></span><span class="n"><span class="pre">DeviceCommandMap</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">iterator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">command</span></span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo7commandE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The command that expects this reply. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo9countdownE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo9countdownE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo9countdownE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::countdown__CountdownP"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1a1e9751945763e48faf0d93bc59896764"></span><span class="n"><span class="pre">Countdown</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">countdown</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">nullptr</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo9countdownE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Instead of using delayCycles to specify the maximum time to wait for the device reply, it is also possible specify a countdown </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17DeviceHandlerBase15DeviceReplyInfo6activeE">
<span id="_CPPv3N17DeviceHandlerBase15DeviceReplyInfo6activeE"></span><span id="_CPPv2N17DeviceHandlerBase15DeviceReplyInfo6activeE"></span><span id="DeviceHandlerBase::DeviceReplyInfo::active__b"></span><span class="target" id="struct_device_handler_base_1_1_device_reply_info_1ada865865aa5b80c1c35a3407898213c9"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">active</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><a class="headerlink" href="#_CPPv4N17DeviceHandlerBase15DeviceReplyInfo6activeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>will be set to true when reply is enabled </p>
</dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
<section id="devicehandlerif">
<h2><code class="docutils literal notranslate"><span class="pre">DeviceHandlerIF</span></code><a class="headerlink" href="#devicehandlerif" title="Permalink to this heading">¶</a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv415DeviceHandlerIF">
<span id="_CPPv315DeviceHandlerIF"></span><span id="_CPPv215DeviceHandlerIF"></span><span id="DeviceHandlerIF"></span><span class="target" id="class_device_handler_i_f"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">DeviceHandlerIF</span></span></span><a class="headerlink" href="#_CPPv415DeviceHandlerIF" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is the Interface used to communicate with a device handler. </p>
<p>Includes all expected return values, events and modes. </p>
<p>Subclassed by <a class="reference internal" href="#class_device_handler_base"><span class="std std-ref">DeviceHandlerBase</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-types">Public Types</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationActionE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationActionE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationActionE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14a"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">CommunicationAction</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationActionE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Communication action that will be executed.</p>
<p>This is used by the child class to tell the base class what to do. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationAction17PERFORM_OPERATIONE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationAction17PERFORM_OPERATIONE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationAction17PERFORM_OPERATIONE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14aa2edff05f8c23ff2766bb17b9fe14adb6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">PERFORM_OPERATION</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationAction17PERFORM_OPERATIONE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationAction10SEND_WRITEE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationAction10SEND_WRITEE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationAction10SEND_WRITEE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14aa0842f105334ff037dbb3de3f180c734f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SEND_WRITE</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationAction10SEND_WRITEE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Send write. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationAction9GET_WRITEE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationAction9GET_WRITEE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationAction9GET_WRITEE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14aa26109f0450a23fce7ecffad34ff0aee7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GET_WRITE</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationAction9GET_WRITEE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get write. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationAction9SEND_READE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationAction9SEND_READE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationAction9SEND_READE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14aafa7728559c5cbf4c4ea68c87dff53854"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SEND_READ</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationAction9SEND_READE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Send read. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationAction8GET_READE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationAction8GET_READE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationAction8GET_READE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14aa6287a2c46b1d94f278bb8fa6fa957c71"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">GET_READ</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationAction8GET_READE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get read. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19CommunicationAction7NOTHINGE">
<span id="_CPPv3N15DeviceHandlerIF19CommunicationAction7NOTHINGE"></span><span id="_CPPv2N15DeviceHandlerIF19CommunicationAction7NOTHINGE"></span><span class="target" id="class_device_handler_i_f_1a5bac255634317628366f45babae0a14aa72f8f824420c3f9b78573d47203fede0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NOTHING</span></span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19CommunicationAction7NOTHINGE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Do nothing. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIFD0Ev">
<span id="_CPPv3N15DeviceHandlerIFD0Ev"></span><span id="_CPPv2N15DeviceHandlerIFD0Ev"></span><span id="DeviceHandlerIF::~DeviceHandlerIF"></span><span class="target" id="class_device_handler_i_f_1aa51c35b6444de79abace0079d027b5ce"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">~DeviceHandlerIF</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIFD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Default Destructor </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK15DeviceHandlerIF15getCommandQueueEv">
<span id="_CPPv3NK15DeviceHandlerIF15getCommandQueueEv"></span><span id="_CPPv2NK15DeviceHandlerIF15getCommandQueueEv"></span><span id="DeviceHandlerIF::getCommandQueueC"></span><span class="target" id="class_device_handler_i_f_1a6405302d1ada46dde7246cbd27f61935"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="n"><span class="pre">MessageQueueId_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getCommandQueue</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><a class="headerlink" href="#_CPPv4NK15DeviceHandlerIF15getCommandQueueEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This MessageQueue is used to command the device handler. </p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the id of the MessageQueue</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF11MODE_NORMALE">
<span id="_CPPv3N15DeviceHandlerIF11MODE_NORMALE"></span><span id="_CPPv2N15DeviceHandlerIF11MODE_NORMALE"></span><span id="DeviceHandlerIF::MODE_NORMAL__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a1ba7910678943c484529b307e9b4d4b7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODE_NORMAL</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF11MODE_NORMALE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is the mode the <strong>device handler</strong> is in. </p>
<p>The mode of the device handler must not be confused with the mode the device is in. The mode of the device itself is transparent to the user but related to the mode of the handler. MODE_ON and MODE_OFF are included in hasModesIF.h The device is powered on and the device handler periodically sends commands. The commands to be sent are selected by the handler according to the submode. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF8MODE_RAWE">
<span id="_CPPv3N15DeviceHandlerIF8MODE_RAWE"></span><span id="_CPPv2N15DeviceHandlerIF8MODE_RAWE"></span><span id="DeviceHandlerIF::MODE_RAW__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a01a1b40d31b8bf52cac20c2fd5b5f3fc"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODE_RAW</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF8MODE_RAWE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The device is powered on and ready to perform operations. In this mode, raw commands can be sent. The device handler will send all replies received from the command back to the commanding object. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF13MODE_ERROR_ONE">
<span id="_CPPv3N15DeviceHandlerIF13MODE_ERROR_ONE"></span><span id="_CPPv2N15DeviceHandlerIF13MODE_ERROR_ONE"></span><span id="DeviceHandlerIF::MODE_ERROR_ON__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1afc0dc6409a79fa2db897ad1a34105009"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODE_ERROR_ON</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">4</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF13MODE_ERROR_ONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The device is shut down but the switch could not be turned off, so the device still is powered. In this mode, only a mode change to <code class="docutils literal notranslate"><span class="pre">MODE_OFF</span></code> can be commanded, which tries to switch off the device again. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF14_MODE_START_UPE">
<span id="_CPPv3N15DeviceHandlerIF14_MODE_START_UPE"></span><span id="_CPPv2N15DeviceHandlerIF14_MODE_START_UPE"></span><span id="DeviceHandlerIF::_MODE_START_UP__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a68825106987917608acf82ac463c53c3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_START_UP</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_CHILD_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">5</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF14_MODE_START_UPE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The device handler performs all commands to get the device in a state ready to perform commands. When this is completed, the mode changes to <code class="docutils literal notranslate"><span class="pre">MODE_ON</span></code>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF15_MODE_SHUT_DOWNE">
<span id="_CPPv3N15DeviceHandlerIF15_MODE_SHUT_DOWNE"></span><span id="_CPPv2N15DeviceHandlerIF15_MODE_SHUT_DOWNE"></span><span id="DeviceHandlerIF::_MODE_SHUT_DOWN__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a407836e91fdcce94b78665519886e6eb"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_SHUT_DOWN</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_CHILD_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">6</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF15_MODE_SHUT_DOWNE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The device handler performs all actions and commands to get the device shut down. When the device is off, the mode changes to <code class="docutils literal notranslate"><span class="pre">MODE_OFF</span></code>. It is possible to set the mode to _MODE_SHUT_DOWN to use the to off transition if available. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF11_MODE_TO_ONE">
<span id="_CPPv3N15DeviceHandlerIF11_MODE_TO_ONE"></span><span id="_CPPv2N15DeviceHandlerIF11_MODE_TO_ONE"></span><span id="DeviceHandlerIF::_MODE_TO_ON__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a9e08a5ca1e582f4e5829bf29d760840d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_TO_ON</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_CHILD_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="modes.html#_CPPv410HasModesIF" title="HasModesIF"><span class="n"><span class="pre">HasModesIF</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="modes.html#_CPPv4N10HasModesIF7MODE_ONE" title="HasModesIF::MODE_ON"><span class="n"><span class="pre">MODE_ON</span></span></a><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF11_MODE_TO_ONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>It is possible to set the mode to _MODE_TO_ON to use the to on transition if available. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF12_MODE_TO_RAWE">
<span id="_CPPv3N15DeviceHandlerIF12_MODE_TO_RAWE"></span><span id="_CPPv2N15DeviceHandlerIF12_MODE_TO_RAWE"></span><span id="DeviceHandlerIF::_MODE_TO_RAW__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1af2feea98cfeb66bf1868b2f042fe7bc8"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_TO_RAW</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_CHILD_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N15DeviceHandlerIF8MODE_RAWE" title="DeviceHandlerIF::MODE_RAW"><span class="n"><span class="pre">MODE_RAW</span></span></a><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF12_MODE_TO_RAWE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>It is possible to set the mode to _MODE_TO_RAW to use the to raw transition if available. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF15_MODE_TO_NORMALE">
<span id="_CPPv3N15DeviceHandlerIF15_MODE_TO_NORMALE"></span><span id="_CPPv2N15DeviceHandlerIF15_MODE_TO_NORMALE"></span><span id="DeviceHandlerIF::_MODE_TO_NORMAL__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a65473efd5682342c61e6f3ec8e7985ac"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_TO_NORMAL</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_CHILD_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N15DeviceHandlerIF11MODE_NORMALE" title="DeviceHandlerIF::MODE_NORMAL"><span class="n"><span class="pre">MODE_NORMAL</span></span></a><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF15_MODE_TO_NORMALE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>It is possible to set the mode to _MODE_TO_NORMAL to use the to normal transition if available. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF16_MODE_POWER_DOWNE">
<span id="_CPPv3N15DeviceHandlerIF16_MODE_POWER_DOWNE"></span><span id="_CPPv2N15DeviceHandlerIF16_MODE_POWER_DOWNE"></span><span id="DeviceHandlerIF::_MODE_POWER_DOWN__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1accec368d175cc0027a22e8914b19d0a0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_POWER_DOWN</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_BASE_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">1</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF16_MODE_POWER_DOWNE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The device is shut down and ready to be switched off. After the command to set the switch off has been sent, the mode changes to <code class="docutils literal notranslate"><span class="pre">MODE_WAIT_OFF</span></code></p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF14_MODE_POWER_ONE">
<span id="_CPPv3N15DeviceHandlerIF14_MODE_POWER_ONE"></span><span id="_CPPv2N15DeviceHandlerIF14_MODE_POWER_ONE"></span><span id="DeviceHandlerIF::_MODE_POWER_ON__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a894aa64f8dc04d516174aee68aabc09a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_POWER_ON</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_BASE_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">2</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF14_MODE_POWER_ONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The device will be switched on in this state. After the command to set the switch on has been sent, the mode changes to <code class="docutils literal notranslate"><span class="pre">MODE_WAIT_ON</span></code>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF14_MODE_WAIT_OFFE">
<span id="_CPPv3N15DeviceHandlerIF14_MODE_WAIT_OFFE"></span><span id="_CPPv2N15DeviceHandlerIF14_MODE_WAIT_OFFE"></span><span id="DeviceHandlerIF::_MODE_WAIT_OFF__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1aa6689cad02411402e4bfe0df975b6441"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_WAIT_OFF</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_BASE_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">3</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF14_MODE_WAIT_OFFE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The switch has been commanded off and the handler waits for it to be off. When the switch is off, the mode changes to <code class="docutils literal notranslate"><span class="pre">MODE_OFF</span></code>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF13_MODE_WAIT_ONE">
<span id="_CPPv3N15DeviceHandlerIF13_MODE_WAIT_ONE"></span><span id="_CPPv2N15DeviceHandlerIF13_MODE_WAIT_ONE"></span><span id="DeviceHandlerIF::_MODE_WAIT_ON__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a1e82faddd0a3e31989b520f216ec9af5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_WAIT_ON</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_BASE_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">4</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF13_MODE_WAIT_ONE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The switch has been commanded on and the handler waits for it to be on. When the switch is on, the mode changes to <code class="docutils literal notranslate"><span class="pre">MODE_TO_ON</span></code>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF19_MODE_SWITCH_IS_OFFE">
<span id="_CPPv3N15DeviceHandlerIF19_MODE_SWITCH_IS_OFFE"></span><span id="_CPPv2N15DeviceHandlerIF19_MODE_SWITCH_IS_OFFE"></span><span id="DeviceHandlerIF::_MODE_SWITCH_IS_OFF__Mode_tC"></span><span class="target" id="class_device_handler_i_f_1a19150c7d5ba39541d4625475f25b95b0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">Mode_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">_MODE_SWITCH_IS_OFF</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">TRANSITION_MODE_BASE_ACTION_MASK</span></span><span class="w"> </span><span class="o"><span class="pre">|</span></span><span class="w"> </span><span class="m"><span class="pre">5</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF19_MODE_SWITCH_IS_OFFE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This is a transitional state which can not be commanded. The switch has been commanded off and is off now. This state is only to do an RMAP cycle once more where the doSendRead() function will set the mode to MODE_OFF. The reason to do this is to get rid of stuck packets in the IO Board. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF22INVALID_DEVICE_COMMANDE">
<span id="_CPPv3N15DeviceHandlerIF22INVALID_DEVICE_COMMANDE"></span><span id="_CPPv2N15DeviceHandlerIF22INVALID_DEVICE_COMMANDE"></span><span id="DeviceHandlerIF::INVALID_DEVICE_COMMAND__EventC"></span><span class="target" id="class_device_handler_i_f_1a3758d01b8d2c950b17fb94929c415f55"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="event.html#_CPPv45Event" title="Event"><span class="n"><span class="pre">Event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">INVALID_DEVICE_COMMAND</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_EVENT</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">8</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="event.html#_CPPv48severity" title="severity"><span class="n"><span class="pre">severity</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="event.html#_CPPv4N8severity8Severity3LOWE" title="severity::LOW"><span class="n"><span class="pre">LOW</span></span></a><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF22INVALID_DEVICE_COMMANDE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>[EXPORT] : [COMMENT] Indicates a SW bug in child class. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF15NO_COMMAND_DATAE">
<span id="_CPPv3N15DeviceHandlerIF15NO_COMMAND_DATAE"></span><span id="_CPPv2N15DeviceHandlerIF15NO_COMMAND_DATAE"></span><span id="DeviceHandlerIF::NO_COMMAND_DATA__ReturnValue_tC"></span><span class="target" id="class_device_handler_i_f_1a125c6c0c3dd3bb16c61adf075e5ba3fc"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">NO_COMMAND_DATA</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xA0</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF15NO_COMMAND_DATAE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>If no command data was given when expected. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF21COMMAND_NOT_SUPPORTEDE">
<span id="_CPPv3N15DeviceHandlerIF21COMMAND_NOT_SUPPORTEDE"></span><span id="_CPPv2N15DeviceHandlerIF21COMMAND_NOT_SUPPORTEDE"></span><span id="DeviceHandlerIF::COMMAND_NOT_SUPPORTED__ReturnValue_tC"></span><span class="target" id="class_device_handler_i_f_1a8b8112aa1bdce85d9493e8118fcbb2ae"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">COMMAND_NOT_SUPPORTED</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xA1</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF21COMMAND_NOT_SUPPORTEDE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command ID not in commandMap. Checked in DHB. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF20COMMAND_ALREADY_SENTE">
<span id="_CPPv3N15DeviceHandlerIF20COMMAND_ALREADY_SENTE"></span><span id="_CPPv2N15DeviceHandlerIF20COMMAND_ALREADY_SENTE"></span><span id="DeviceHandlerIF::COMMAND_ALREADY_SENT__ReturnValue_tC"></span><span class="target" id="class_device_handler_i_f_1a56bf9e92abf514105ecf5dc12b59942b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">COMMAND_ALREADY_SENT</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xA2</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF20COMMAND_ALREADY_SENTE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command was already executed. Checked in DHB. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15DeviceHandlerIF4BUSYE">
<span id="_CPPv3N15DeviceHandlerIF4BUSYE"></span><span id="_CPPv2N15DeviceHandlerIF4BUSYE"></span><span id="DeviceHandlerIF::BUSY__ReturnValue_tC"></span><span class="target" id="class_device_handler_i_f_1a4cffb3ffc73874314f82a8411e489780"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="returnvalue.html#_CPPv413ReturnValue_t" title="ReturnValue_t"><span class="n"><span class="pre">ReturnValue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">BUSY</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MAKE_RETURN_CODE</span></span><span class="p"><span class="pre">(</span></span><span class="m"><span class="pre">0xA7</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N15DeviceHandlerIF4BUSYE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Used to indicate that this is a command-only command. </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Flight Software Framework</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../highlevel.html">High-level overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core.html">Core Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuring the FSFW</a></li>
<li class="toctree-l1"><a class="reference internal" href="../osal.html">Operating System Abstraction Layer (OSAL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pus.html">PUS Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicehandlers.html">Device Handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers.html">Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../localpools.html">Local Data Pools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cfdp.html">CFDP API</a></li>
<li class="toctree-l2"><a class="reference internal" href="objectmanager.html">Object Manager API</a></li>
<li class="toctree-l2"><a class="reference internal" href="task.html">Task API</a></li>
<li class="toctree-l2"><a class="reference internal" href="ipc.html">IPC Module API</a></li>
<li class="toctree-l2"><a class="reference internal" href="returnvalue.html">Returnvalue API</a></li>
<li class="toctree-l2"><a class="reference internal" href="event.html">Event API</a></li>
<li class="toctree-l2"><a class="reference internal" href="modes.html">Modes API</a></li>
<li class="toctree-l2"><a class="reference internal" href="health.html">Health API</a></li>
<li class="toctree-l2"><a class="reference internal" href="action.html">Action Module API</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Device Handler Base API</a></li>
<li class="toctree-l2"><a class="reference internal" href="controller.html">Controller API</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://www.uni-stuttgart.de/impressum">Impressum</a></li>
    
    <li class="toctree-l1"><a href="https://info.irs.uni-stuttgart.de/datenschutz/datenschutzWebmit.html">Datenschutz</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../api.html">API</a><ul>
      <li>Previous: <a href="action.html" title="previous chapter">Action Module API</a></li>
      <li>Next: <a href="controller.html" title="next chapter">Controller API</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Institute of Space Systems (IRS).
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/api/devicehandler.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>